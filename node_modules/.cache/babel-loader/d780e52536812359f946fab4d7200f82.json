{"ast":null,"code":"var _jsxFileName = \"/Users/liu550/Desktop/salon_project/src/components/profile.js\";\nimport React, { Component, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport firebase from '../config/firebaseconfig';\nimport '../styles/home.css';\nimport '../styles/profile.css';\nimport NavBar from './navbar';\nimport Settings from './settings';\nimport './component.css';\nimport ditto from './ditto.png';\nimport { Modal, Button, Card, CardDeck, Image, ListGroup } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css'; //Redux\n\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { uploadImage } from '../redux/actions.js'; //The static profile page that displays a user's profile. Check whether the profile url is the same as the profile_url of the current logged-in user\n//and do a conditional rendering of an \"Edit\" button that redirects users to the settings page. [TO BE COMPLETED].\n\nclass Profile extends Component {\n  /*\n      state = {\n          firstname: \"\",\n          lastname: \"\",\n          gender: \"\",\n          email: \"\",\n          institution: \"\",\n          role: \"\",\n          description: \"\",\n          areasofinterest: []\n      }\n  \n      componentDidMount() {\n        this.setState({\n          firstname: profile.first_name,\n          lastname: profile.last_name,\n          gender: profile.gender,\n          email: profile.email,\n          institution: profile.institution,\n          role: profile.role,\n          description: profile.description,\n          areasofinterest: profile.areas_of_interest\n        })\n    }\n  */\n\n  /*\n  componentDidMount() {\n      firebase.firestore().collection(\"users\").where(\"profile_url\", \"==\", window.location.href)\n      .get()\n      .then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n              this.setState({\n                  firstname: doc.data().first_name,\n                  lastname: doc.data().last_name,\n                  gender: doc.data().gender,\n                  email: doc.data().email,\n                  institution: doc.data().institution,\n                  role: doc.data().role,\n                  description: doc.data().description,\n                  areasofinterest: doc.data().areasofinterest\n              })\n          })\n      })\n  }\n  */\n  constructor(props) {\n    super(props);\n\n    this.handleUpload = e => {\n      e.preventDefault();\n      const image = e.target.files[0];\n      const {\n        auth\n      } = this.props;\n      this.props.uploadImage(image, auth.uid);\n    };\n\n    this.openFiles = e => {\n      e.preventDefault();\n      const input = document.getElementById(\"imageinput\");\n      input.click();\n    };\n\n    this.handleShow = e => {\n      e.preventDefault();\n      this.setState({\n        edit: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        edit: false\n      });\n    };\n\n    this.state = {\n      edit: false\n    };\n  }\n  /*\n  componentDidMount() {\n    const { profile } = this.props;\n    this.setState({\n      image: profile.image\n    })\n  }\n  */\n\n\n  render() {\n    /*\n      const items=this.state.areasofinterest;\n      const name=this.state.firstname + \" \" + this.state.lastname;\n      const email=this.state.email;\n    */\n    const {\n      users,\n      auth,\n      profile\n    } = this.props;\n    const name = profile.first_name + \" \" + profile.last_name;\n    console.log(auth.uid);\n    console.log(profile.email);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, auth.uid && profile.first_name ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;500&display=swap\",\n      rel: \"stylesheet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardDeck, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: {\n        border: \"0\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      className: \"profile-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: profile.image ? profile.image : ditto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"imageinput\",\n      hidden: \"hidden\",\n      onChange: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      onClick: this.openFiles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, \"Upload Profile Image\"), /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, name), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, \"\\u262F\\uFE0F Gender: \", profile.gender), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 61\n      }\n    }))), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \"\\uD83D\\uDCBB Occupation: \", profile.role, \" \", profile.role !== \"\" && profile.institution !== \"\" ? \"at\" : null, \" \", profile.institution), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 151\n      }\n    }))), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, \"\\uD83D\\uDCA9 Self description: \", profile.self_description), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 81\n      }\n    }))), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }\n    }, \"\\uD83D\\uDC7B Values:\", profile.personalities && profile.personalities.map(personality => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"unselected-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, personality);\n    }))), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 23\n      }\n    }, \"\\uD83D\\uDC9B Interests:\", profile.areas_of_interest && profile.areas_of_interest.map(interest => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"unselected-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }\n      }, interest);\n    }))), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, \"\\uD83D\\uDC8C Email: \", profile.email), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 59\n      }\n    }))), auth.uid ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      onClick: this.handleShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 39\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.edit,\n      onHide: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 35\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(Settings, {\n      handleClose: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 47\n      }\n    })))) : null)))))) : /*#__PURE__*/React.createElement(\"div\", {\n      class: \"loader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    }));\n  }\n\n} //{ auth.uid ? <Button variant='success' onClick={this.handleClick}>Edit</Button> : null}\n\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n    users: state.firestore.ordered.users\n  };\n};\n\nexport default compose(connect(mapStateToProps, {\n  uploadImage\n}), firestoreConnect([{\n  collection: 'users'\n}]))(withRouter(Profile));\n/*\nexport default connect(\n  mapStateToProps\n)(withRouter(Profile));\n*/","map":{"version":3,"sources":["/Users/liu550/Desktop/salon_project/src/components/profile.js"],"names":["React","Component","useState","withRouter","firebase","NavBar","Settings","ditto","Modal","Button","Card","CardDeck","Image","ListGroup","connect","compose","firestoreConnect","uploadImage","Profile","constructor","props","handleUpload","e","preventDefault","image","target","files","auth","uid","openFiles","input","document","getElementById","click","handleShow","setState","edit","handleClose","state","render","users","profile","name","first_name","last_name","console","log","email","border","gender","role","institution","self_description","personalities","map","personality","areas_of_interest","interest","mapStateToProps","firestore","ordered","collection"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport firebase from '../config/firebaseconfig';\nimport '../styles/home.css';\nimport '../styles/profile.css';\nimport NavBar from './navbar';\nimport Settings from './settings';\nimport './component.css';\nimport ditto from './ditto.png';\n\nimport { Modal, Button, Card, CardDeck, Image, ListGroup, } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n//Redux\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { uploadImage } from '../redux/actions.js';\n\n//The static profile page that displays a user's profile. Check whether the profile url is the same as the profile_url of the current logged-in user\n//and do a conditional rendering of an \"Edit\" button that redirects users to the settings page. [TO BE COMPLETED].\n\nclass Profile extends Component {\n/*\n    state = {\n        firstname: \"\",\n        lastname: \"\",\n        gender: \"\",\n        email: \"\",\n        institution: \"\",\n        role: \"\",\n        description: \"\",\n        areasofinterest: []\n    }\n\n    componentDidMount() {\n      this.setState({\n        firstname: profile.first_name,\n        lastname: profile.last_name,\n        gender: profile.gender,\n        email: profile.email,\n        institution: profile.institution,\n        role: profile.role,\n        description: profile.description,\n        areasofinterest: profile.areas_of_interest\n      })\n  }\n*/\n\n    /*\n    componentDidMount() {\n        firebase.firestore().collection(\"users\").where(\"profile_url\", \"==\", window.location.href)\n        .get()\n        .then((querySnapshot) => {\n            querySnapshot.forEach((doc) => {\n                this.setState({\n                    firstname: doc.data().first_name,\n                    lastname: doc.data().last_name,\n                    gender: doc.data().gender,\n                    email: doc.data().email,\n                    institution: doc.data().institution,\n                    role: doc.data().role,\n                    description: doc.data().description,\n                    areasofinterest: doc.data().areasofinterest\n                })\n            })\n        })\n    }\n    */\n    constructor(props){\n      super(props);\n      this.state = {\n        edit: false\n       }\n    }\n     \n\n\n\n    /*\n    componentDidMount() {\n      const { profile } = this.props;\n      this.setState({\n        image: profile.image\n      })\n    }\n    */\n\n    handleUpload = (e) => {\n      e.preventDefault();\n      const image = e.target.files[0];\n      const { auth } = this.props;\n      this.props.uploadImage(image, auth.uid);\n  }\n\n  openFiles = (e) => {\n      e.preventDefault();\n      const input = document.getElementById(\"imageinput\");\n      input.click();\n  }\n\n    handleShow = (e) => {\n      e.preventDefault();\n      this.setState({ edit : true });\n    }\n\n    handleClose = () => {\n      this.setState({ edit : false });\n    }\n\n    render() {\n      /*\n        const items=this.state.areasofinterest;\n        const name=this.state.firstname + \" \" + this.state.lastname;\n        const email=this.state.email;\n      */\n\n     const { users, auth, profile } = this.props;\n     const name = profile.first_name + \" \" + profile.last_name;\n     console.log(auth.uid);\n     console.log(profile.email);\n\n      return (\n        <div>\n      { auth.uid && profile.first_name ? \n        <div>\n        {<NavBar />}\n          <div className=\"container\">\n            <link\n              href='https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;500&display=swap'\n              rel='stylesheet'\n            />\n            <div className='profile'>\n              <CardDeck  >\n                <Card style={{border: \"0\"}}>\n                  <Card.Body className='profile-card'>\n\n                  <img src={profile.image ? profile.image : ditto}></img>\n                  <input type=\"file\" id=\"imageinput\" hidden=\"hidden\" onChange={this.handleUpload}></input>\n                  <Button variant=\"success\" onClick={this.openFiles}>Upload Profile Image</Button>\n\n                    <Card.Title className=\"text-center\">{name}</Card.Title>\n\n                    \n                    <Card.Text>\n                    <div className=\"basic-info\">\n                        <li>☯️ Gender: {profile.gender}</li><br/>\n                    </div>\n                    </Card.Text>\n\n                    <Card.Text>\n                    <div className=\"basic-info\">\n                        <li>💻 Occupation: {profile.role} {profile.role !== \"\" && profile.institution !== \"\" ? \"at\" : null} {profile.institution}</li><br/>\n                    </div>\n                    </Card.Text>\n\n                    <Card.Text>\n                    <div className=\"basic-info\">\n                        <li>💩 Self description: {profile.self_description}</li><br/>\n                    </div>\n                    </Card.Text>\n\n                    <Card.Text>\n                  \n                      <div className=\"basic-info\">\n                      👻 Values: \n                    {profile.personalities && profile.personalities.map((personality) => {\n                      return (\n                        <div className=\"unselected-button\">\n                          {personality}\n                        </div>\n                      );\n                    })}\n                    </div>\n                    </Card.Text>\n\n                    <Card.Text>\n                  \n                      <div className=\"basic-info\">\n                      💛 Interests: \n                    {profile.areas_of_interest && profile.areas_of_interest.map((interest) => {\n                      return (\n                        <div className=\"unselected-button\">\n                          {interest}\n                        </div>\n                      );\n                    })}\n                    </div>\n                    </Card.Text>\n\n                    <Card.Text>\n                    <div className=\"basic-info\">\n                        <li>💌 Email: {profile.email}</li><br/>\n                    </div>\n                    </Card.Text>\n\n                    \n                    { auth.uid ? <div><Button variant=\"success\" onClick={this.handleShow}>Edit</Button>\n                                  <Modal show={this.state.edit} onHide={this.handleClose}>\n                                  <Modal.Header closeButton></Modal.Header>\n                                  <Modal.Body><Settings handleClose={this.handleClose}/></Modal.Body>\n                                  </Modal></div> : null}\n\n                  </Card.Body>\n                </Card>\n\n              </CardDeck>\n            </div>\n        </div>\n        </div>\n        : <div class=\"loader\"></div>}\n        </div>\n        );\n    }\n}\n\n//{ auth.uid ? <Button variant='success' onClick={this.handleClick}>Edit</Button> : null}\n\nconst mapStateToProps = (state) => {\n  return {\n      auth: state.firebase.auth,\n      profile: state.firebase.profile,\n      users: state.firestore.ordered.users\n  }\n}\n\nexport default compose(\n  connect(mapStateToProps, { uploadImage }),\n  firestoreConnect([\n    { collection: 'users' }\n  ])\n)(withRouter(Profile));\n/*\nexport default connect(\n  mapStateToProps\n)(withRouter(Profile));\n*/\n"]},"metadata":{},"sourceType":"module"}