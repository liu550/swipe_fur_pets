{"ast":null,"code":"var _jsxFileName = \"/Users/liu550/Desktop/salon_project/src/components/waitingroom.js\";\nimport React, { Component } from 'react';\nimport './component.css';\nimport firebase from '../config/firebaseconfig';\nimport { Container, Navbar } from 'react-bootstrap';\nimport Card from './design/card';\nimport Filter from './design/filter';\nimport '../styles/waitingroom.css';\nimport { thisTypeAnnotation } from '@babel/types';\nimport NavBar from './navbar';\nimport ChatBox from './chatbox.js';\nimport LoggedOutNavbar from './loggedoutnavbar';\nimport '../styles/card.css';\nimport SignUp from './signup';\nimport LogIn from './login';\nimport { Button, Modal } from 'react-bootstrap';\nimport MatchingBox from './matchingbox.js';\nimport MatchingWindow from './matchingwindow.js';\nimport { Helmet } from \"react-helmet\"; //Redux\n\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { submitTicket, startMatching, groupMessaging } from '../redux/actions';\nimport Selection from '@simonwep/selection-js'; //var selection = require('@simonwep/selection-js');\n\n/*\n    selection = new Selection({\n  class: \"selection-area\",\n  mode: \"touch\",\n  singleClick: \"true\",\n  selectables: [\"schedule\"],\n  boundaries: [\"schedule\"]\n})\n\nselection.on(\"start\", ({inst, selected, oe}) => {\n  for (const el of selected) {\n    el.classList.remove(\"selected\");\n    inst.removeFromSelection(el);\n  }\n  inst.clearSelection();\n})\n.on(\"move\", ({changed: {removed, added}}) => {\n  for (const el of added) {\n    el.classList.add(\"selected\");\n  }\n  for (const el of removed) {\n    el.classList.remove(\"selected\");\n  }\n})\n*/\n\n/*\nconst selection = Selection.create({\n  class: \"selection-area\",\n  mode: \"touch\",\n  singleClick: \"true\",\n  selectables: [\".slot\"],\n  boundaries: [\".schedule\"]\n})\n  .on(\"start\", ({ inst, selected, oe }) => {\n    // Remove class if the user isn't pressing the control key or ⌘ key\n    console.log('start');\n    if (!oe.ctrlKey && !oe.metaKey) {\n      // Unselect all elements\n\n      for (const el of selected) {\n        el.classList.remove(\"selected\");\n\n        inst.removeFromSelection(el);\n      }\n\n      // Clear previous selection\n\n      inst.clearSelection();\n    }\n  })\n  .on(\"move\", ({ changed: { removed, added } }) => {\n    // Add a custom class to the elements that where selected.\n\n    for (const el of added) {\n      /*\n      if (el.hour === \"0:00\") {\n        el.classList.add(\"selected\");\n      }\n      \n      \n      el.classList.add(\"selected\");\n      selected.push(el);\n    }\n\n    // Remove the class from elements that where removed\n\n    // since the last selection\n\n    for (const el of removed) {\n      el.classList.remove(\"selected\");\n      selected.indexOf(el);\n      selected.splice(el, 1);\n    }\n  })\n  .on(\"stop\", ({ inst }) => {\n    console.log('stop', selection.getSelection());\n    //const selected = selection.getSelection();\n    console.log(selected);\n    var current = new Array();\n    \n    var temp = new Array();  \n    temp.push(selected[0]);\n    current.push(temp);\n    console.log(current);\n    \n    \n\n    if (selected.length > 1) {\n      for (var i  = 0; i < selected.length; i++) {\n        console.log(i + \" \" + selected[i]);\n        var checked = false;\n        for (var j = 0; j < current.length; j++) {\n          console.log(selected[i].dataset.date + \" vs \" + current[j][0].dataset.date)\n          if (selected[i].dataset.date === current[j][0].dataset.date) {\n            current[j].push(selected[i]);\n            checked = true;\n          }\n        }\n        if (checked === false) {\n          var temp = new Array();\n          temp.push(selected[i]);\n          current.push(temp);\n          console.log(temp);\n        }\n        console.log(current);\n      }\n\n      \n  \n      for (var i = 0; i < current.length; i++) {\n        current[i].sort(function(left, right) {\n          return left.dataset.start - right.dataset.start;\n        });\n      }\n    }\n\n    currentTimeSlots = current;\n    console.log(currentTimeSlots);\n\n    \n    // Remember selection in case the user wants to add smth in the next one\n\n    inst.keepSelection();\n  })\n  */\n\nconst personalities = [\"hard-working\", \"helpful/kind/altruistic\", \"outgoing/social\", \"knowledgeable\", \"ambitious\", \"thoughtful\", \"observant\", \"introvert\", \"humble\", \"imaginative\", \"impartial\", \"intelligent\", \"creative\", \"ethics\", \"social justice\", \"insightful/perceptive\", \"energetic\", \"smart\", \"curious\", \"open-minded\", \"meticulous\", \"logics\", \"agreeable\", \"competent\", \"wealth\", \"social influence/recognition\", \"geek\", \"executive\", \"leader\", \"adventurer\", \"thinker\", \"analyst\", \"planner\", \"artist\", \"designer\"];\nconst filters = [\"entrepreneurship\", \"finance/investing/vc\", \"business analysis/consulting\", \"software engineering\", \"data analysis/science\", \"ui/ux design\", \"artificial intelligence\", \"electrical engineering\", \"mechanical engineering\", \"biomedical engineering\", \"mathematics\", \"physics\", \"chemistry\", \"psychology\", \"economics\", \"history\", \"politics\", \"law\", \"healthcare\", \"arts\"];\nconst taskfilters = ['startup/personal project', 'work/internship', 'study', 'interview preparation', 'exam preparation', 'reading books', 'research', 'brainstorming', 'finance/investing/vc', 'business analysis/consulting', \"software engineering\", \"data analysis/science\", \"ui/ux design\", \"artificial intelligence\", \"electrical engineering\", \"mechanical engineering\", \"biomedical engineering\", \"mathematics\", \"physics\", \"chemistry\", \"psychology\", \"economics\", \"history\", \"politics\", \"law\", \"healthcare\", \"arts\"];\nconst timeSegments = [\"0:00\", \"6:00\", \"12:00\", \"18:00\"];\n\nclass WaitingRoom extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      filters: [],\n      tasks: [],\n      show: false,\n      showmatching: false,\n      routeguarding: false,\n      description: \"\",\n      reduxtasks: [],\n      personalities: [],\n      genderpreference: \"\",\n      //showmatchingwindow: false,\n      showgroupmessaging: false,\n      currentprofilelist: [],\n      number: 0,\n      showmatchingwindow: false,\n      interestFilterVisibility: false,\n      taskFilterVisibility: false,\n      personalityFilterVisibility: false,\n      changeMatchingButton: false,\n      matching: {},\n      availableTimes: {},\n      scheduleVisibility: false,\n      todaySchedule: {},\n      //selecting: false,\n      //startTime: {date: \"\", hour: \"\"},\n      //endTime: {date: \"\", hour: \"\"},\n      selectedSlots: [],\n      currentTimeSlots: [],\n      currentTaskTags: [],\n      currentTask: \"\"\n    };\n\n    this.buildList = async users => {\n      var profilelist = [];\n      var i = 0;\n\n      while (users && i < users.length) {\n        const userprofile = {\n          id: users[i].id,\n          profile: users[i]\n        };\n        profilelist.push(userprofile);\n        i++;\n      }\n\n      return profilelist;\n    };\n\n    this.clickSignUp = e => {\n      e.preventDefault();\n      this.setState({\n        signup: true\n      });\n    };\n\n    this.clickLogIn = e => {\n      e.preventDefault();\n      this.setState({\n        signup: false\n      });\n    };\n\n    this.handleShow = e => {\n      e.preventDefault();\n      const {\n        auth\n      } = this.props;\n\n      if (!auth.uid) {\n        this.setState({\n          routeguarding: true\n        });\n      } else this.setState({\n        show: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleCloseRedirect = () => {\n      this.setState({\n        routeguarding: false\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.submitTicket(this.state);\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleChange = e => {\n      e.stopPropagation();\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.updateReduxTasks = e => {\n      e.preventDefault();\n\n      if (e.target.className === \"unselected-button\") {\n        const helper = [...this.state.reduxtasks, e.target.id];\n        this.setState({\n          reduxtasks: helper\n        });\n        e.target.className = \"selected-button\";\n      } else {\n        const newfilters = this.state.reduxtasks.filter(tag => tag !== e.target.id);\n        this.setState({\n          reduxtasks: newfilters\n        });\n        e.target.className = \"unselected-button\";\n      }\n    };\n\n    this.onlyFilters = async e => {\n      if (e.target.className === \"unselected-button\") {\n        const helper = [...this.state.filters, e.target.id];\n        this.setState({\n          filters: helper\n        });\n        e.target.className = \"selected-button\";\n        return helper;\n      } else {\n        const newfilters = this.state.filters.filter(tag => tag !== e.target.id);\n        this.setState({\n          filters: newfilters\n        });\n        e.target.className = \"unselected-button\";\n        return newfilters;\n      }\n    };\n\n    this.filtersUpdateList = newfilters => {\n      const {\n        users\n      } = this.props;\n      var newprofilelist = [];\n      var i = 0;\n\n      while (i < users.length) {\n        if (this.state.filters.every(t => users && users[i].areas_of_interest && users[i].areas_of_interest.includes(t)) && this.state.tasks.every(t => users[i].tasks_tags && users[i].tasks_tags.includes(t)) && this.state.personalities.every(t => users[i].personalities && users[i].personalities.includes(t))) {\n          newprofilelist.push({\n            id: users[i].id,\n            profile: users[i]\n          });\n        }\n\n        i++;\n      }\n\n      this.setState({\n        currentprofilelist: newprofilelist\n      });\n    };\n\n    this.updateFilters = async e => {\n      e.preventDefault();\n      this.onlyFilters(e).then(newfilters => {\n        this.filtersUpdateList(newfilters);\n      });\n    };\n\n    this.onlyTasks = async e => {\n      if (e.target.className === \"unselected-button\") {\n        const helper = [...this.state.tasks, e.target.id];\n        this.setState({\n          tasks: helper\n        });\n        e.target.className = \"selected-button\";\n        return helper;\n      } else {\n        const newfilters = this.state.tasks.filter(tag => tag !== e.target.id);\n        this.setState({\n          tasks: newfilters\n        });\n        e.target.className = \"unselected-button\";\n        return newfilters;\n      }\n    };\n\n    this.tasksUpdateList = newtasks => {\n      const {\n        users\n      } = this.props;\n      var newprofilelist = [];\n      var i = 0;\n\n      while (i < users.length) {\n        if (newtasks.every(t => users[i].tasks_tags && users[i].tasks_tags.includes(t)) && this.state.filters.every(t => users[i].areas_of_interest && users[i].areas_of_interest.includes(t))) {\n          newprofilelist.push({\n            id: users[i].id,\n            profile: users[i]\n          });\n        }\n\n        i++;\n      }\n\n      this.setState({\n        currentprofilelist: newprofilelist\n      });\n    };\n\n    this.updateTasks = async e => {\n      e.preventDefault();\n      return this.onlyTasks(e).then(newtasks => {\n        this.filtersUpdateList(newtasks);\n      });\n    };\n\n    this.onlyPersonalities = async e => {\n      if (e.target.className === \"unselected-button\") {\n        const helper = [...this.state.personalities, e.target.id];\n        this.setState({\n          personalities: helper\n        });\n        e.target.className = \"selected-button\";\n        return helper;\n      } else {\n        const newfilters = this.state.personalities.filter(tag => tag !== e.target.id);\n        this.setState({\n          personalities: newfilters\n        });\n        e.target.className = \"unselected-button\";\n        return newfilters;\n      }\n    };\n\n    this.updatePersonalities = async e => {\n      e.preventDefault();\n      return this.onlyPersonalities(e).then(newtasks => {\n        this.filtersUpdateList(newtasks);\n      });\n    };\n\n    this.showMatching = e => {\n      e.preventDefault();\n      const {\n        auth\n      } = this.props;\n\n      if (!auth.uid) {\n        this.setState({\n          routeguarding: true\n        });\n      } else {\n        this.setState({\n          showmatching: true\n        });\n      }\n    };\n\n    this.handleMatching = e => {\n      e.preventDefault();\n\n      if (this.state.genderpreference !== \"\") {\n        this.props.startMatching(this.props.auth.uid, this.props.profile, this.props.profile.gender, this.state.genderpreference);\n        this.setState({\n          showmatching: false,\n          showmatchingwindow: true\n        });\n      }\n    };\n\n    this.closeMatching = () => {\n      this.setState({\n        showmatching: false\n      });\n    };\n\n    this.closeMatchingWindow = () => {\n      this.setState({\n        showmatchingwindow: false\n      });\n    };\n\n    this.showGroupMessaging = e => {\n      e.preventDefault();\n\n      if (!this.props.auth.uid) {\n        this.setState({\n          routeguarding: true\n        });\n      } else this.setState({\n        showgroupmessaging: true\n      });\n    };\n\n    this.closeMessaging = () => {\n      this.setState({\n        showgroupmessaging: false\n      });\n    };\n\n    this.createMessage = time => {\n      let message = {};\n      message = {\n        time: time,\n        from: this.props.auth.uid,\n        content: document.getElementById(\"message\").value\n      };\n      return message;\n    };\n\n    this.handleMessaging = e => {\n      e.preventDefault();\n\n      if (this.state.number !== 0) {\n        const date = new Date();\n        const time = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate() + \" \" + date.getHours() + \":\" + date.getMinutes();\n        const message = this.createMessage(time);\n        this.props.groupMessaging(this.state.currentprofilelist, this.state.number, message, this.props.profile);\n      }\n    };\n\n    this.showInterestFilter = e => {\n      e.preventDefault();\n      this.setState({\n        interestFilterVisibility: true\n      });\n    };\n\n    this.closeInterestFilter = () => {\n      this.setState({\n        interestFilterVisibility: false\n      });\n    };\n\n    this.showTaskFilter = e => {\n      e.preventDefault();\n      this.setState({\n        taskFilterVisibility: true\n      });\n    };\n\n    this.closeTaskFilter = () => {\n      this.setState({\n        taskFilterVisibility: false\n      });\n    };\n\n    this.showPersonalityFilter = e => {\n      e.preventDefault();\n      this.setState({\n        personalityFilterVisibility: true\n      });\n    };\n\n    this.closePersonalityFilter = () => {\n      this.setState({\n        personalityFilterVisibility: false\n      });\n    };\n\n    this.handleTryAgain = e => {\n      e.preventDefault();\n      this.setState({\n        showmatchingwindow: false,\n        showmatching: true\n      });\n    };\n\n    this.changeMatching = () => {\n      document.getElementById(\"matching-button\").className = \"hovered-buttons\";\n      this.setState({\n        changeMatchingButton: true\n      });\n    };\n\n    this.unchangeMatching = () => {\n      document.getElementById(\"matching-button\").className = \"initial-buttons\";\n      this.setState({\n        changeMatchingButton: false\n      });\n    };\n\n    this.changeMessaging = () => {\n      document.getElementById(\"messaging-button\").className = \"hovered-buttons\";\n      this.setState({\n        changeMessagingButton: true\n      });\n    };\n\n    this.unchangeMessaging = () => {\n      document.getElementById(\"messaging-button\").className = \"initial-buttons\";\n      this.setState({\n        changeMessagingButton: false\n      });\n    };\n\n    this.showSchedule = e => {\n      e.preventDefault();\n      this.setState({\n        scheduleVisibility: true\n      });\n    };\n\n    this.closeSchedule = () => {\n      this.setState({\n        scheduleVisibility: false\n      });\n    };\n\n    this.renderSegment = (segment, date) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slot\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 874,\n          columnNumber: 14\n        }\n      }, date.getDate());\n    };\n\n    this.renderSlots = slot => {\n      console.log(slot.date.getDate() + slot.hour);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slot\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 14\n        }\n      }, slot.date, \" - \", slot.hour);\n    };\n\n    this.startSelecting = e => {\n      e.preventDefault();\n      this.setState({\n        selecting: true,\n        startTime: e.target.element,\n        selectedSlots: [e.target.element]\n      });\n    };\n\n    this.keepSelecting = e => {\n      e.preventDefault();\n\n      if (this.state.selecting === true) {\n        const slots = [...this.state.selectedSlots, e.target.element];\n        this.setState({\n          selectedSlots: slots\n        });\n      }\n    };\n\n    this.finishSelecting = e => {\n      e.preventDefault();\n    };\n\n    this.displaySelectedTimeSlots = date => {\n      var start = date[0].dataset.start;\n      var end = date[date.length - 1].dataset.end;\n      console.log(start);\n      console.log(end);\n      console.log(date);\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 914,\n          columnNumber: 12\n        }\n      }, start, \" - \", end, \", \", date[0].dataset.date);\n    };\n\n    this.displayConfirmedTasks = task => {\n      var startTimeArray = task.slots[0][0].dataset.start.split(/:| /);\n      var rowStart = startTimeArray[0] * 2;\n\n      if (startTimeArray[1] === \"30\") {\n        rowStart += 1;\n      }\n\n      if (startTimeArray[2] === \"pm\") {\n        rowStart += 24;\n      }\n\n      rowStart += 2;\n      var endTimeArray = task.slots[0][task.slots[0].length - 1].dataset.start.split(/:| /);\n      var rowEnd = endTimeArray[0] * 2;\n\n      if (endTimeArray[1] === \"30\") {\n        rowEnd += 1;\n      }\n\n      if (endTimeArray[2] === \"pm\") {\n        rowEnd += 24;\n      }\n\n      rowEnd += 2;\n      var columnStart = task.slots[0].dataset.date;\n      var columnEnd = task.slots[task.slots.length - 1].dataset.date;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          gridRowStart: rowStart,\n          gridRowEnd: rowEnd,\n          gridColumnStart: columnStart,\n          gridColumnEnd: columnEnd\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 12\n        }\n      }, task.content);\n    };\n\n    this.selectTaskTags = e => {\n      e.preventDefault();\n\n      if (e.target.className === \"unselected-button\") {\n        e.target.className = \"selected-button\";\n        const newTaskTags = [...this.state.currentTaskTags, e.target.id];\n        this.setState({\n          currentTaskTags: newTaskTags\n        });\n      } else {\n        const newTaskTags = this.state.currentTaskTags.filter(tag => tag !== e.target.id);\n        this.setState({\n          currentTaskTags: newTaskTags\n        });\n        e.target.className = \"unselected-button\";\n      }\n    };\n\n    this.confirmTask = e => {\n      e.preventDefault();\n      const task = {\n        slots: this.state.currentTimeSlots,\n        content: document.getElementById(\"task-description\"),\n        tags: this.state.currentTaskTags\n      };\n      const selectedSlots = [...this.state.selectedSlots, task];\n      this.setState({\n        selectedSlots: selectedSlots\n      });\n      document.getElementById(\"task-recording\").style.visibility = \"hidden\";\n    };\n  }\n\n  componentDidMount() {\n    /*\n          setTimeout(() => {\n          if (localStorage.getItem(\"matching\") === \"true\") {\n            if (localStorage.getItem(\"pool\") === \"false\" ) {\n              firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n                matching_seekers: firebase.firestore.FieldValue.arrayRemove({id: this.props.auth.uid, gender: localStorage.getItem(\"gender\"), gender_preference: localStorage.getItem(\"genderpreference\")})\n              })\n            }\n            else {\n              firebase.firestore().collection(\"matching\").doc(\"pool\").get()\n              .then((doc) => {\n                const found = doc.data().matching_pool.find(element => element.id === this.props.auth.uid);\n                firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n                  matching_pool: firebase.firestore.FieldValue.arrayRemove(found)\n                })\n              })\n            }\n            localStorage.setItem(\"matching\", false);\n          }\n          }, 1000)\n        */\n    var currentSchedule = new Array();\n    var todaySchedule = new Array();\n    var i = 0;\n    var d = new Date();\n\n    for (i = 0; i < 7; i++) {\n      //console.log(d.getDate());\n      console.log(d.getDate());\n      currentSchedule.push(new Date(d));\n      d.setDate(d.getDate() + 1);\n    }\n\n    for (var i = 0; i < timeSegments.length - 1; i++) {\n      var row = new Array();\n\n      for (var j = 0; j < 7; j++) {\n        row.push({\n          date: currentSchedule[j],\n          start: timeSegments[i],\n          end: timeSegments[i + 1]\n        });\n      }\n\n      todaySchedule.push(row);\n    }\n\n    this.setState({\n      todaySchedule: todaySchedule\n    });\n    setTimeout(() => {\n      if (localStorage.getItem(\"matching\") === \"true\") {\n        if (localStorage.getItem(\"pool\") === \"false\") {\n          firebase.firestore().collection(\"matching\").doc(\"seekers\").collection(\"matching_seekers\").doc(this.props.auth.uid).delete();\n          firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n            count: firebase.firestore.FieldValue.increment(-1)\n          });\n        } else {\n          firebase.firestore().collection(\"matching\").doc(\"seekers\").collection(\"matching_pool\").doc(this.props.auth.uid).delete();\n          firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n            count: firebase.firestore.FieldValue.increment(-1)\n          });\n        }\n\n        localStorage.setItem(\"matching\", false);\n      }\n    }, 1000);\n    const {\n      users,\n      profile\n    } = this.props;\n    this.buildList(users).then(profilelist => {\n      this.setState({\n        currentprofilelist: profilelist //showmatchingwindow: true\n\n      });\n    });\n    this.setState({\n      description: profile.tasks_description,\n      reduxtasks: profile.tasks_tags\n    });\n  }\n  /*\n  deleteMatching = () => {\n    console.log(\"enter this part\");\n    if (localStorage.getItem(\"matching\") === \"true\") {\n      console.log(localStorage.getItem(\"pool\"));\n      if (localStorage.getItem(\"pool\") === \"false\" ) {\n        console.log(this.props.auth.uid);\n        firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n          matching_seekers: firebase.firestore.FieldValue.arrayRemove({id: this.props.auth.uid, gender: localStorage.getItem(\"gender\"), gender_preference: localStorage.getItem(\"genderpreference\")})\n        })\n      }\n      else {\n        firebase.firestore().collection(\"matching\").doc(\"pool\").get()\n        .then((doc) => {\n          const found = doc.data().matching_pool.find(element => element.id === this.props.auth.uid);\n          firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n            matching_pool: firebase.firestore.FieldValue.arrayRemove(found)\n          })\n        })\n      }\n      localStorage.setItem(\"matching\", false);\n    }\n  }\n    setupBeforeUnloadListener() {\n    window.addEventListener(\"beforeunload\", (ev) => {\n      ev.preventDefault();\n      console.log(\"enter this part\");\n      return this.deleteMatching();\n    });\n  }\n  */\n\n\n  componentDidUpdate(prevprops, prevstate) {\n    /*\n    console.log(prevstate.matching);\n    if (prevprops.matching !== this.props.matching) {\n      this.setState({\n        matching: this.props.matching\n      })\n    }\n    if (prevstate.matching.going === true) {\n      if (prevstate.matching.pool === false) {\n        firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n          matching_seekers: firebase.firestore.FieldValue.arrayRemove(prevstate.matching.map)\n        })\n      }\n      else {\n        firebase.firestore().collection(\"matching\").doc(\"pool\").get()\n        .then((doc) => {\n          const pool = doc.data().matching_pool;\n          const found = pool.find(element => element.id === this.props.auth.uid);\n          const index = pool.indexOf(found);\n          if (index > -1) {\n            pool.splice(index, 1);\n          }\n          firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n            matching_pool: pool\n          })\n        })\n      }\n    }\n    */\n    const d = new Date();\n\n    if (d.getDate() != this.state.todaySchedule[0][0].date.getDate()) {\n      const currentSchedule = {};\n      var i = 0;\n\n      for (i = 0; i < 6; i++) {\n        d.setDate(d.getDate() + i);\n        currentSchedule.push(d);\n      }\n\n      this.setState({\n        todaySchedule: currentSchedule\n      });\n    }\n\n    if (prevprops.profile !== this.props.profile) {\n      const {\n        users,\n        profile\n      } = this.props;\n      this.setState({\n        description: profile.tasks_description,\n        reduxtasks: profile.tasks_tags\n      });\n    }\n  }\n\n  componentWillReceiveProps() {\n    const {\n      users,\n      profile\n    } = this.props;\n    var profilelist = [];\n    users && users.map(user => {\n      const userprofile = {\n        id: user.id,\n        profile: user\n      };\n      profilelist.push(userprofile);\n    });\n    this.setState({\n      currentprofilelist: profilelist\n    });\n  }\n  /*\n      shouldComponentUpdate(nextProps, nextState) {\n        return nextProps.isFavourite != this.props.isFavourite;\n      }\n      */\n\n  /*\n  updateFilters = (e) => {\n    e.preventDefault();\n   if (e.target.className === \"unselected-button\") {\n    const helper = this.state.filters;\n    helper.push(e.target.id);\n    this.setState({ filters : helper });\n    e.target.className = \"selected-button\";\n   }\n    else {\n      const newfilters = this.state.filters.filter(tag => tag !== e.target.id);\n      this.setState({ filters : newfilters });\n      e.target.className = \"unselected-button\";\n    }\n  }\n  */\n\n\n  /*\n      renderCards(index, users) {\n        let card = users[index];\n        let cardid = card.id;\n  \n        if(this.state.filters.length === 0 && this.state.tasks.length === 0) {\n          return (\n            <Card info={card} id={cardid}/>\n          );\n        }\n        else if (this.state.filters.length !== 0 && this.state.tasks.length === 0) {\n          if (this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t))) {\n            return (\n              <Card info={card} id={cardid}/>\n            )\n          }\n        }\n        else if (this.state.filters.length !== 0 && this.state.tasks.length === 0) {\n          if (this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t))) {\n            return (\n              <Card info={card} id={cardid}/>\n            )\n          }\n        }\n        else if (this.state.filters.length === 0 && this.state.tasks.length !== 0) {\n          if (this.state.tasks.every(t => card.tasks_tags && card.tasks_tags.includes(t))) {\n            return (\n              <Card info={card} id={cardid}/>\n            )\n          }\n        }\n        else if (this.state.filters.length !== 0 && this.state.tasks.length !== 0) {\n          if (this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t)) && this.state.tasks.every(t => card.tasks_tags && card.tasks_tags.includes(t))) {\n          return (\n            <Card info={card} id={cardid}/>\n          );\n          }\n        } else {\n          return '';\n        }\n      }\n      */\n  renderCards(index, users) {\n    let card = users[index];\n    let cardid = card.id;\n    console.log(card.image);\n\n    if (cardid !== \"hAOhg4jmoHVsjQ0nRva0l4ElBzk2\" && this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t)) && this.state.tasks.every(t => card.tasks_tags && card.tasks_tags.includes(t)) && this.state.personalities.every(t => card.personalities && card.personalities.includes(t))) {\n      return /*#__PURE__*/React.createElement(Card, {\n        info: card,\n        id: cardid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return '';\n    }\n  }\n\n  render() {\n    const {\n      auth,\n      users,\n      profile,\n      loading,\n      sent,\n      buddy,\n      chatid,\n      showmatchingwindow\n    } = this.props;\n    var profilelist = [];\n    let founderprofile;\n\n    if (users) {\n      const founder = users.find(element => element.id === \"hAOhg4jmoHVsjQ0nRva0l4ElBzk2\");\n      founderprofile = /*#__PURE__*/React.createElement(Card, {\n        info: founder,\n        id: \"hAOhg4jmoHVsjQ0nRva0l4ElBzk2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 974,\n          columnNumber: 28\n        }\n      });\n    }\n\n    const buttonStyle = {\n      height: \"50px\",\n      width: \"500px\",\n      margin: \"45px\",\n      backgroundColor: '#fd9535',\n      textAlign: 'center',\n      color: \"#fff\",\n      fontSize: \"16px\",\n      shape: \"circle\",\n      fontWeight: \"bold\"\n    };\n    let box;\n\n    if (loading === true) {\n      box = /*#__PURE__*/React.createElement(\"div\", {\n        class: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 992,\n          columnNumber: 19\n        }\n      });\n    } else {\n      if (this.props.buddy !== \"\") {\n        box = /*#__PURE__*/React.createElement(MatchingWindow, {\n          chat: chatid,\n          buddy: buddy,\n          close: this.closeMatchingWindow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 23\n          }\n        });\n      } else {\n        box = /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: \"35%\",\n            top: \"35%\",\n            border: \"1px solid\",\n            backgroundColor: \"white\",\n            width: \"550px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1002,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          style: {\n            float: \"right\",\n            backgroundColor: \"white\",\n            color: \"black\",\n            border: \"0\",\n            padding: \"0\"\n          },\n          onClick: this.closeMatchingWindow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 21\n          }\n        }, \"x\"), /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            marginTop: \"15px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 21\n          }\n        }, \"Sorry we cannot help you find a study/work buddy currently \\uD83D\\uDE16\"), /*#__PURE__*/React.createElement(Button, {\n          variant: \"success\",\n          type: \"submit\",\n          style: {\n            float: \"right\"\n          },\n          onClick: this.handleTryAgain,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1005,\n            columnNumber: 21\n          }\n        }, \"Try again?\"));\n      }\n    }\n\n    const selection = Selection.create({\n      class: \"selection-area\",\n      mode: \"touch\",\n      singleClick: \"true\",\n      selectables: [\".slot\"],\n      boundaries: [\".schedule\"]\n    }).on(\"beforestart\", ({\n      selected,\n      inst\n    }) => {\n      console.log(selected);\n\n      for (const el of selected) {\n        el.classList.remove(\"selected\");\n        inst.removeFromSelection(el);\n      }\n\n      inst.clearSelection();\n    }).on(\"start\", ({\n      inst,\n      selected,\n      oe\n    }) => {\n      // Remove class if the user isn't pressing the control key or ⌘ key\n      console.log(selected);\n\n      for (const el of selected) {\n        el.classList.remove(\"selected\");\n        inst.removeFromSelection(el);\n      }\n\n      inst.clearSelection();\n      console.log('start');\n      /*\n      if (!oe.ctrlKey && !oe.metaKey) {\n       \n                 for (const el of selected) {\n          el.classList.remove(\"selected\");\n                   inst.removeFromSelection(el);\n        }\n                 \n                 inst.clearSelection();\n      }\n      */\n    }).on(\"move\", ({\n      changed: {\n        removed,\n        added\n      },\n      selected\n    }) => {\n      // Add a custom class to the elements that where selected.\n      for (const el of added) {\n        /*\n        if (el.hour === \"0:00\") {\n          el.classList.add(\"selected\");\n        }\n        */\n        el.classList.add(\"selected\");\n        selected.push(el);\n      } // Remove the class from elements that where removed\n      // since the last selection\n\n\n      for (const el of removed) {\n        el.classList.remove(\"selected\");\n        selected.indexOf(el);\n        selected.splice(el, 1);\n      }\n    }).on(\"stop\", ({\n      inst,\n      selected\n    }) => {\n      console.log('stop', selection.getSelection()); //const selected = selection.getSelection();\n\n      var current = new Array();\n      /*\n      var temp = new Array();  \n      temp.push(selected[0]);\n      current.push(temp);\n      console.log(current);\n      */\n\n      if (selected.length > 1) {\n        for (var i = 0; i < selected.length; i++) {\n          var checked = false;\n\n          for (var j = 0; j < current.length; j++) {\n            if (selected[i].dataset.date === current[j][0].dataset.date) {\n              current[j].push(selected[i]);\n              checked = true;\n            }\n          }\n\n          if (checked === false) {\n            var temp = new Array();\n            temp.push(selected[i]);\n            current.push(temp);\n          }\n        }\n\n        current.sort(function (left, right) {\n          return left[0].dataset.date - right[0].dataset.date;\n        });\n\n        for (var i = 0; i < current.length; i++) {\n          current[i].sort(function (left, right) {\n            return left.dataset.start - right.dataset.start;\n          });\n        }\n      } //currentTimeSlots = current;\n      //console.log(currentTimeSlots);\n\n\n      this.setState({\n        currentTimeSlots: current\n      });\n      document.getElementById(\"task-recording\").style.visibility = \"visible\"; //selected = [];\n      //inst.clearSelection();\n      // Remember selection in case the user wants to add smth in the next one\n      //inst.keepSelection();\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1148,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 11\n      }\n    }, \"Buddies | Salon\"), /*#__PURE__*/React.createElement(\"meta\", {\n      name: \"description\",\n      content: \"Find your study/work buddies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1152,\n        columnNumber: 11\n      }\n    })), auth.uid || auth.isEmpty && auth.isLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 14\n      }\n    }), auth.uid ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chatbox-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1164,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(ChatBox, {\n      roomid: auth.uid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1165,\n        columnNumber: 14\n      }\n    })) : null, /*#__PURE__*/React.createElement(Container, {\n      className: \"background\",\n      fluid: true,\n      style: {\n        zIndex: \"-1\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1171,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      style: {\n        position: \"absolute\",\n        top: \"15%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"update-button\",\n      onClick: this.handleShow,\n      style: {\n        fontSize: \"large\",\n        fontFamily: \"Comic Sans MS, cursive, sans-serif\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1175,\n        columnNumber: 13\n      }\n    }, \"Update your tasks here! \\uD83E\\uDD17\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1179,\n        columnNumber: 13\n      }\n    }, this.state.changeMatchingButton ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"matching-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1180,\n        columnNumber: 48\n      }\n    }, \"Randomly find a study/work buddy instantly\") : null, /*#__PURE__*/React.createElement(Button, {\n      id: \"matching-button\",\n      className: \"initial-buttons\",\n      onMouseOver: this.changeMatching,\n      onMouseLeave: this.unchangeMatching,\n      onClick: this.showMatching,\n      style: {\n        fontSize: \"large\",\n        fontFamily: \"Comic Sans MS, cursive, sans-serif\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 13\n      }\n    }, \"\\uD83C\\uDFB2\")), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.showSchedule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 13\n      }\n    }, \"Schedule\")), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.scheduleVisibility,\n      onHide: this.closeSchedule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"schedule\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1193,\n        columnNumber: 19\n      }\n    }, this.state.todaySchedule && this.state.todaySchedule.map(row => {\n      return row.map(slot => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          class: \"slot\",\n          \"data-date\": slot.date.getDate(),\n          \"data-start\": slot.start,\n          \"data-end\": slot.end,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 34\n          }\n        }, slot.date.getDate(), \": \", slot.start, \"-\", slot.end);\n      });\n    }), this.state.selectedSlots && this.state.selectedSlots.map(task => {\n      return this.displayConfirmedTasks(task);\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"task-recording\",\n      style: {\n        display: \"flex\",\n        visibility: \"hidden\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1208,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"inline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1209,\n        columnNumber: 21\n      }\n    }, this.state.currentTimeSlots && this.state.currentTimeSlots.map(date => {\n      return this.displaySelectedTimeSlots(date);\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.confirmTask,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1215,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1216,\n        columnNumber: 21\n      }\n    }, \"Descrie your tasks\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"task-description\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1217,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1219,\n        columnNumber: 21\n      }\n    }, \"Select a few tags:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 21\n      }\n    }, taskfilters.map(filter => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"unselected-button\",\n        id: filter,\n        onClick: this.selectTaskTags,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1224,\n          columnNumber: 25\n        }\n      }, filter);\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1231,\n        columnNumber: 21\n      }\n    }, \"Confirm\"))))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.showgroupmessaging,\n      onHide: this.closeMessaging,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1239,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1240,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1241,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleMessaging,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1242,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1243,\n        columnNumber: 21\n      }\n    }, \"Select a few tags on the page and send your message to up to 3 random users that have the tags in their profiles\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"message\",\n      placeholder: \"Hi there...\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1244,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1247,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1249,\n        columnNumber: 29\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"number\",\n      value: 1,\n      onChange: this.handleChange,\n      checked: this.state.number === \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1249,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1251,\n        columnNumber: 29\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"number\",\n      value: 2,\n      onChange: this.handleChange,\n      checked: this.state.number === \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1251,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1253,\n        columnNumber: 29\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"number\",\n      value: 3,\n      onChange: this.handleChange,\n      checked: this.state.number === \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1253,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 21\n      }\n    }, \"Send\")), loading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"loader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1260,\n        columnNumber: 32\n      }\n    }) : null, sent === 1 ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 34\n      }\n    }, \"Message sent!\") : null, sent === 2 ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1262,\n        columnNumber: 34\n      }\n    }, \"Sorry there are not enough users that satisfy the criteria, but the message has been sent to all the users if there are any! \\uD83D\\uDE0B\") : null)), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.showmatching,\n      onHide: this.closeMatching,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1269,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1270,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1271,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleMatching,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1272,\n        columnNumber: 17\n      }\n    }, \"Match me with:\", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1275,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1276,\n        columnNumber: 29\n      }\n    }, \"Male only\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"genderpreference\",\n      value: \"Male\",\n      onChange: this.handleChange,\n      checked: this.state.genderpreference === \"Male\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1276,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1279,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1280,\n        columnNumber: 29\n      }\n    }, \"Female only\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"genderpreference\",\n      value: \"Female\",\n      onChange: this.handleChange,\n      checked: this.state.genderpreference === \"Female\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1280,\n        columnNumber: 55\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1283,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 29\n      }\n    }, \"Other only\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"genderpreference\",\n      value: \"Other\",\n      onChange: this.handleChange,\n      checked: this.state.genderpreference === \"Other\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 54\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1287,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1288,\n        columnNumber: 29\n      }\n    }, \"I don't care \\uD83D\\uDE22\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"genderpreference\",\n      value: \"None\",\n      onChange: this.handleChange,\n      checked: this.state.genderpreference === \"None\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1288,\n        columnNumber: 59\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1292,\n        columnNumber: 19\n      }\n    }, \"Start matching\")))), this.state.showmatchingwindow ? box : null, /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1307,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1308,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1309,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1310,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1311,\n        columnNumber: 21\n      }\n    }, \"Describe your tasks today!\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"description\",\n      onChange: this.handleChange,\n      value: this.state.description,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1312,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1314,\n        columnNumber: 21\n      }\n    }, \"Select a few tags:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1316,\n        columnNumber: 21\n      }\n    }, taskfilters.map(filter => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.state.reduxtasks && this.state.reduxtasks.includes(filter) ? \"selected-button\" : \"unselected-button\",\n        id: filter,\n        onClick: this.updateReduxTasks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1319,\n          columnNumber: 25\n        }\n      }, filter);\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1326,\n        columnNumber: 21\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.routeguarding,\n      onHide: this.handleCloseRedirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1332,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1333,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1334,\n        columnNumber: 15\n      }\n    }, \"Sign up to create a profile so that other users can know more about you!\\uD83D\\uDE0A\")), /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      style: {\n        position: \"absolute\",\n        top: \"25%\",\n\n        /*marginLeft:\"70px\", marginBottom: \"20px\",*/\n        left: \"4%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: \"-1\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1339,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontFamily: \"Lucida Console, Monaco, monospace\",\n        fontSize: \"large\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1341,\n        columnNumber: 11\n      }\n    }, \"Filter by: \"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      style: {\n        fontFamily: \"Lucida Console, Monaco, monospace\",\n        fontSize: \"large\",\n        marginRight: \"10px\"\n      },\n      onClick: this.showInterestFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 11\n      }\n    }, \"\\uD83D\\uDC9B Interests\"), /*#__PURE__*/React.createElement(Modal, {\n      id: \"interestfilter\",\n      show: this.state.interestFilterVisibility,\n      onHide: this.closeInterestFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1344,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      style: {\n        margin: \"5px \"\n      },\n      id: \"filters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 13\n      }\n    }, filters.map(filter => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.state.filters && this.state.filters.includes(filter) ? \"selected-button\" : \"unselected-button\",\n        id: filter,\n        onClick: this.updateFilters,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1348,\n          columnNumber: 19\n        }\n      }, filter);\n    }))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      style: {\n        fontFamily: \"Lucida Console, Monaco, monospace\",\n        fontSize: \"large\",\n        marginRight: \"10px\"\n      },\n      onClick: this.showPersonalityFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1356,\n        columnNumber: 13\n      }\n    }, \"\\uD83D\\uDC7B Values\"), /*#__PURE__*/React.createElement(Modal, {\n      id: \"interestfilter\",\n      show: this.state.personalityFilterVisibility,\n      onHide: this.closePersonalityFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1357,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      style: {\n        margin: \"5px \"\n      },\n      id: \"filters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1358,\n        columnNumber: 13\n      }\n    }, personalities.map(filter => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.state.personalities && this.state.personalities.includes(filter) ? \"selected-button\" : \"unselected-button\",\n        id: filter,\n        onClick: this.updatePersonalities,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 19\n        }\n      }, filter);\n    }))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      style: {\n        fontFamily: \"Lucida Console, Monaco, monospace\",\n        fontSize: \"large\",\n        marginRight: \"10px\"\n      },\n      onClick: this.showTaskFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1369,\n        columnNumber: 13\n      }\n    }, \"\\uD83C\\uDFF7 Tasks\"), /*#__PURE__*/React.createElement(Modal, {\n      id: \"interestfilter\",\n      show: this.state.taskFilterVisibility,\n      onHide: this.closeTaskFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1370,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      style: {\n        margin: \"5px \"\n      },\n      id: \"filters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1371,\n        columnNumber: 13\n      }\n    }, taskfilters.map(filter => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.state.tasks && this.state.tasks.includes(filter) ? \"selected-button\" : \"unselected-button\",\n        id: filter,\n        onClick: this.updateTasks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1374,\n          columnNumber: 19\n        }\n      }, filter);\n    })))))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1396,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log('waiting cponent', state.firestore);\n  return {\n    users: state.firestore.ordered.users,\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n    loading: state.auth.loading,\n    sent: state.auth.sent,\n    buddy: state.auth.buddy,\n    chatid: state.auth.chatid,\n    matching: state.auth.matching,\n    showmatchingwindow: state.auth.showmatchingwindow\n  };\n};\n\nexport default compose(connect(mapStateToProps, {\n  submitTicket,\n  startMatching,\n  groupMessaging\n}), firestoreConnect([{\n  collection: 'users'\n}]))(WaitingRoom);\n/*\n            <div>\n            {this.state.changeMessagingButton ? <span className=\"messaging-button\">Send a message to random people</span> : null}\n            <Button id=\"messaging-button\" className=\"initial-buttons\" onMouseOver={this.changeMessaging} onMouseLeave={this.unchangeMessaging} onClick={this.showGroupMessaging} style={{ fontSize: \"large\", fontFamily: \"Comic Sans MS, cursive, sans-serif\" }}>💌</Button>\n            </div>\n            */\n\n/*\n          <div style={{ position: \"absolute\", top: \"30%\", zIndex: \"-1\" }}>\n            <div id=\"cards\">\n            {founderprofile}\n              { users && users.map((card, index, users) => {\n                return this.renderCards(index, users, profilelist);\n              })}\n            </div>\n            </div>\n*/","map":{"version":3,"sources":["/Users/liu550/Desktop/salon_project/src/components/waitingroom.js"],"names":["React","Component","firebase","Container","Navbar","Card","Filter","thisTypeAnnotation","NavBar","ChatBox","LoggedOutNavbar","SignUp","LogIn","Button","Modal","MatchingBox","MatchingWindow","Helmet","connect","compose","firestoreConnect","submitTicket","startMatching","groupMessaging","Selection","personalities","filters","taskfilters","timeSegments","WaitingRoom","state","tasks","show","showmatching","routeguarding","description","reduxtasks","genderpreference","showgroupmessaging","currentprofilelist","number","showmatchingwindow","interestFilterVisibility","taskFilterVisibility","personalityFilterVisibility","changeMatchingButton","matching","availableTimes","scheduleVisibility","todaySchedule","selectedSlots","currentTimeSlots","currentTaskTags","currentTask","buildList","users","profilelist","i","length","userprofile","id","profile","push","clickSignUp","e","preventDefault","setState","signup","clickLogIn","handleShow","auth","props","uid","handleClose","handleCloseRedirect","handleSubmit","handleChange","stopPropagation","target","value","updateReduxTasks","className","helper","newfilters","filter","tag","onlyFilters","filtersUpdateList","newprofilelist","every","t","areas_of_interest","includes","tasks_tags","updateFilters","then","onlyTasks","tasksUpdateList","newtasks","updateTasks","onlyPersonalities","updatePersonalities","showMatching","handleMatching","gender","closeMatching","closeMatchingWindow","showGroupMessaging","closeMessaging","createMessage","time","message","from","content","document","getElementById","handleMessaging","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","showInterestFilter","closeInterestFilter","showTaskFilter","closeTaskFilter","showPersonalityFilter","closePersonalityFilter","handleTryAgain","changeMatching","unchangeMatching","changeMessaging","changeMessagingButton","unchangeMessaging","showSchedule","closeSchedule","renderSegment","segment","renderSlots","slot","console","log","hour","startSelecting","selecting","startTime","element","keepSelecting","slots","finishSelecting","displaySelectedTimeSlots","start","dataset","end","displayConfirmedTasks","task","startTimeArray","split","rowStart","endTimeArray","rowEnd","columnStart","columnEnd","gridRowStart","gridRowEnd","gridColumnStart","gridColumnEnd","selectTaskTags","newTaskTags","confirmTask","tags","style","visibility","componentDidMount","currentSchedule","Array","d","setDate","row","j","setTimeout","localStorage","getItem","firestore","collection","doc","delete","update","count","FieldValue","increment","setItem","tasks_description","componentDidUpdate","prevprops","prevstate","componentWillReceiveProps","map","user","renderCards","index","card","cardid","image","render","loading","sent","buddy","chatid","founderprofile","founder","find","buttonStyle","height","width","margin","backgroundColor","textAlign","color","fontSize","shape","fontWeight","box","position","left","top","border","float","padding","marginTop","selection","create","class","mode","singleClick","selectables","boundaries","on","selected","inst","el","classList","remove","removeFromSelection","clearSelection","oe","changed","removed","added","add","indexOf","splice","getSelection","current","checked","temp","sort","right","isEmpty","isLoaded","zIndex","alignItems","fontFamily","display","marginRight","mapStateToProps","ordered"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './component.css';\nimport firebase from '../config/firebaseconfig';\nimport { Container, Navbar } from 'react-bootstrap';\nimport Card from './design/card';\nimport Filter from './design/filter';\nimport '../styles/waitingroom.css';\nimport { thisTypeAnnotation } from '@babel/types';\nimport NavBar from './navbar';\nimport ChatBox from './chatbox.js';\nimport LoggedOutNavbar from './loggedoutnavbar';\n\nimport '../styles/card.css';\n\nimport SignUp from './signup';\nimport LogIn from './login';\nimport { Button, Modal } from 'react-bootstrap';\nimport MatchingBox from './matchingbox.js';\nimport MatchingWindow from './matchingwindow.js';\nimport {Helmet} from \"react-helmet\";\n\n//Redux\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { submitTicket, startMatching, groupMessaging } from '../redux/actions';\n\nimport Selection from '@simonwep/selection-js';\n\n//var selection = require('@simonwep/selection-js');\n/*\n    selection = new Selection({\n  class: \"selection-area\",\n  mode: \"touch\",\n  singleClick: \"true\",\n  selectables: [\"schedule\"],\n  boundaries: [\"schedule\"]\n})\n\nselection.on(\"start\", ({inst, selected, oe}) => {\n  for (const el of selected) {\n    el.classList.remove(\"selected\");\n    inst.removeFromSelection(el);\n  }\n  inst.clearSelection();\n})\n.on(\"move\", ({changed: {removed, added}}) => {\n  for (const el of added) {\n    el.classList.add(\"selected\");\n  }\n  for (const el of removed) {\n    el.classList.remove(\"selected\");\n  }\n})\n*/\n/*\nconst selection = Selection.create({\n  class: \"selection-area\",\n  mode: \"touch\",\n  singleClick: \"true\",\n  selectables: [\".slot\"],\n  boundaries: [\".schedule\"]\n})\n  .on(\"start\", ({ inst, selected, oe }) => {\n    // Remove class if the user isn't pressing the control key or ⌘ key\n    console.log('start');\n    if (!oe.ctrlKey && !oe.metaKey) {\n      // Unselect all elements\n\n      for (const el of selected) {\n        el.classList.remove(\"selected\");\n\n        inst.removeFromSelection(el);\n      }\n\n      // Clear previous selection\n\n      inst.clearSelection();\n    }\n  })\n  .on(\"move\", ({ changed: { removed, added } }) => {\n    // Add a custom class to the elements that where selected.\n\n    for (const el of added) {\n      /*\n      if (el.hour === \"0:00\") {\n        el.classList.add(\"selected\");\n      }\n      \n      \n      el.classList.add(\"selected\");\n      selected.push(el);\n    }\n\n    // Remove the class from elements that where removed\n\n    // since the last selection\n\n    for (const el of removed) {\n      el.classList.remove(\"selected\");\n      selected.indexOf(el);\n      selected.splice(el, 1);\n    }\n  })\n  .on(\"stop\", ({ inst }) => {\n    console.log('stop', selection.getSelection());\n    //const selected = selection.getSelection();\n    console.log(selected);\n    var current = new Array();\n    \n    var temp = new Array();  \n    temp.push(selected[0]);\n    current.push(temp);\n    console.log(current);\n    \n    \n\n    if (selected.length > 1) {\n      for (var i  = 0; i < selected.length; i++) {\n        console.log(i + \" \" + selected[i]);\n        var checked = false;\n        for (var j = 0; j < current.length; j++) {\n          console.log(selected[i].dataset.date + \" vs \" + current[j][0].dataset.date)\n          if (selected[i].dataset.date === current[j][0].dataset.date) {\n            current[j].push(selected[i]);\n            checked = true;\n          }\n        }\n        if (checked === false) {\n          var temp = new Array();\n          temp.push(selected[i]);\n          current.push(temp);\n          console.log(temp);\n        }\n        console.log(current);\n      }\n\n      \n  \n      for (var i = 0; i < current.length; i++) {\n        current[i].sort(function(left, right) {\n          return left.dataset.start - right.dataset.start;\n        });\n      }\n    }\n\n    currentTimeSlots = current;\n    console.log(currentTimeSlots);\n\n    \n    // Remember selection in case the user wants to add smth in the next one\n\n    inst.keepSelection();\n  })\n  */\n\n\n\n\nconst personalities = [\n    \"hard-working\",\n    \"helpful/kind/altruistic\",\n    \"outgoing/social\",\n    \"knowledgeable\",\n    \"ambitious\",\n    \"thoughtful\",\n    \"observant\",\n    \"introvert\",\n    \"humble\",\n    \"imaginative\",\n    \"impartial\",\n    \"intelligent\",\n    \"creative\",\n    \"ethics\",\n    \"social justice\",\n    \"insightful/perceptive\",\n    \"energetic\",\n    \"smart\",\n    \"curious\",\n    \"open-minded\",\n    \"meticulous\",\n    \"logics\",\n    \"agreeable\",\n    \"competent\",\n    \"wealth\",\n    \"social influence/recognition\",\n    \"geek\",\n    \"executive\",\n    \"leader\",\n    \"adventurer\",\n    \"thinker\",\n    \"analyst\",\n    \"planner\",\n    \"artist\",\n    \"designer\"\n]\n\nconst filters = [\n    \"entrepreneurship\",\n    \"finance/investing/vc\",\n    \"business analysis/consulting\",\n    \"software engineering\",\n    \"data analysis/science\",\n    \"ui/ux design\",\n    \"artificial intelligence\",\n    \"electrical engineering\",\n    \"mechanical engineering\",\n    \"biomedical engineering\",\n    \"mathematics\",\n    \"physics\",\n    \"chemistry\",\n    \"psychology\",\n    \"economics\",\n    \"history\",\n    \"politics\",\n    \"law\",\n    \"healthcare\",\n    \"arts\"\n];\n\nconst taskfilters = [\n  'startup/personal project',\n  'work/internship',\n  'study',\n  'interview preparation',\n  'exam preparation',\n  'reading books',\n  'research',\n  'brainstorming',\n  'finance/investing/vc',\n  'business analysis/consulting',\n  \"software engineering\",\n    \"data analysis/science\",\n    \"ui/ux design\",\n    \"artificial intelligence\",\n    \"electrical engineering\",\n    \"mechanical engineering\",\n    \"biomedical engineering\",\n    \"mathematics\",\n    \"physics\",\n    \"chemistry\",\n    \"psychology\",\n    \"economics\",\n    \"history\",\n    \"politics\",\n    \"law\",\n    \"healthcare\",\n    \"arts\"\n];\n\nconst timeSegments = [\n  \"0:00\",\n  \"6:00\",\n  \"12:00\",\n  \"18:00\"\n];\n\n\n  \n  class WaitingRoom extends Component {\n  \n    state = {\n      filters: [],\n      tasks: [],\n      show: false,\n      showmatching: false,\n      routeguarding: false,\n      description: \"\",\n      reduxtasks: [],\n      personalities: [],\n      genderpreference: \"\",\n      //showmatchingwindow: false,\n      showgroupmessaging: false,\n      currentprofilelist: [],\n      number: 0,\n      showmatchingwindow: false,\n      interestFilterVisibility: false,\n      taskFilterVisibility: false,\n      personalityFilterVisibility: false,\n      changeMatchingButton: false,\n      matching: {},\n      availableTimes: {},\n      scheduleVisibility: false,\n      todaySchedule: {},\n      //selecting: false,\n      //startTime: {date: \"\", hour: \"\"},\n      //endTime: {date: \"\", hour: \"\"},\n      selectedSlots: [],\n      currentTimeSlots: [],\n      currentTaskTags: [],\n      currentTask: \"\"\n    }\n\n    buildList = async (users) => {\n      var profilelist = [];\n      var i = 0;\n      while (users && i < users.length) {\n        const userprofile = { id: users[i].id, profile: users[i]};\n        profilelist.push(userprofile);\n        i++;\n      }\n      return profilelist;\n    }\n\n    componentDidMount() {\n/*\n      setTimeout(() => {\n      if (localStorage.getItem(\"matching\") === \"true\") {\n        if (localStorage.getItem(\"pool\") === \"false\" ) {\n          firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n            matching_seekers: firebase.firestore.FieldValue.arrayRemove({id: this.props.auth.uid, gender: localStorage.getItem(\"gender\"), gender_preference: localStorage.getItem(\"genderpreference\")})\n          })\n        }\n        else {\n          firebase.firestore().collection(\"matching\").doc(\"pool\").get()\n          .then((doc) => {\n            const found = doc.data().matching_pool.find(element => element.id === this.props.auth.uid);\n            firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n              matching_pool: firebase.firestore.FieldValue.arrayRemove(found)\n            })\n          })\n        }\n        localStorage.setItem(\"matching\", false);\n      }\n      }, 1000)\n    */\n    var currentSchedule = new Array();\n    var todaySchedule = new Array();\n    var i = 0;\n    var d = new Date();\n    for (i = 0; i < 7; i++) {\n      //console.log(d.getDate());\n      console.log(d.getDate());\n      currentSchedule.push(new Date(d));\n      d.setDate(d.getDate() + 1);\n    }\n\n    for (var i = 0; i < timeSegments.length - 1; i++) {\n      var row = new Array();\n      for (var j = 0; j < 7; j++) {\n        row.push({date: currentSchedule[j], start: timeSegments[i], end: timeSegments[i + 1]});\n      }\n      todaySchedule.push(row);\n    }\n    this.setState({ todaySchedule: todaySchedule });\n\n\n   setTimeout(() => {\n    if (localStorage.getItem(\"matching\") === \"true\") {\n      if (localStorage.getItem(\"pool\") === \"false\" ) {\n        firebase.firestore().collection(\"matching\").doc(\"seekers\").collection(\"matching_seekers\").doc(this.props.auth.uid).delete();\n        firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n          count: firebase.firestore.FieldValue.increment(-1)\n        })\n      }\n      else {\n        firebase.firestore().collection(\"matching\").doc(\"seekers\").collection(\"matching_pool\").doc(this.props.auth.uid).delete();\n        firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n          count: firebase.firestore.FieldValue.increment(-1)\n        })\n      }\n      localStorage.setItem(\"matching\", false);\n    }\n    }, 1000)\n  \n      const { users, profile } = this.props;\n      this.buildList(users)\n      .then((profilelist) => {\n        this.setState({\n          currentprofilelist: profilelist,\n          //showmatchingwindow: true\n        })\n      });\n      this.setState({\n        description: profile.tasks_description,\n        reduxtasks: profile.tasks_tags,\n      })\n    }\n\n    /*\n    deleteMatching = () => {\n      console.log(\"enter this part\");\n      if (localStorage.getItem(\"matching\") === \"true\") {\n        console.log(localStorage.getItem(\"pool\"));\n        if (localStorage.getItem(\"pool\") === \"false\" ) {\n          console.log(this.props.auth.uid);\n          firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n            matching_seekers: firebase.firestore.FieldValue.arrayRemove({id: this.props.auth.uid, gender: localStorage.getItem(\"gender\"), gender_preference: localStorage.getItem(\"genderpreference\")})\n          })\n        }\n        else {\n          firebase.firestore().collection(\"matching\").doc(\"pool\").get()\n          .then((doc) => {\n            const found = doc.data().matching_pool.find(element => element.id === this.props.auth.uid);\n            firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n              matching_pool: firebase.firestore.FieldValue.arrayRemove(found)\n            })\n          })\n        }\n        localStorage.setItem(\"matching\", false);\n      }\n    }\n\n\n    setupBeforeUnloadListener() {\n      window.addEventListener(\"beforeunload\", (ev) => {\n        ev.preventDefault();\n        console.log(\"enter this part\");\n        return this.deleteMatching();\n      });\n    }\n    */\n\n    componentDidUpdate(prevprops, prevstate) {\n      /*\n      console.log(prevstate.matching);\n      if (prevprops.matching !== this.props.matching) {\n        this.setState({\n          matching: this.props.matching\n        })\n      }\n      if (prevstate.matching.going === true) {\n        if (prevstate.matching.pool === false) {\n          firebase.firestore().collection(\"matching\").doc(\"seekers\").update({\n            matching_seekers: firebase.firestore.FieldValue.arrayRemove(prevstate.matching.map)\n          })\n        }\n        else {\n          firebase.firestore().collection(\"matching\").doc(\"pool\").get()\n          .then((doc) => {\n            const pool = doc.data().matching_pool;\n            const found = pool.find(element => element.id === this.props.auth.uid);\n            const index = pool.indexOf(found);\n            if (index > -1) {\n              pool.splice(index, 1);\n            }\n            firebase.firestore().collection(\"matching\").doc(\"pool\").update({\n              matching_pool: pool\n            })\n          })\n        }\n      }\n      */\n     const d = new Date();\n     if (d.getDate() != this.state.todaySchedule[0][0].date.getDate()) {\n      const currentSchedule = {};\n      var i = 0;\n      for (i = 0; i < 6; i++) {\n        d.setDate(d.getDate() + i);\n        currentSchedule.push(d);\n      }\n      this.setState({ todaySchedule: currentSchedule });\n     }\n\n\n      if (prevprops.profile !== this.props.profile) {\n        const { users, profile } = this.props;\n        this.setState({\n          description: profile.tasks_description,\n          reduxtasks: profile.tasks_tags,\n        })\n      }\n    }\n\n    componentWillReceiveProps() {\n      const { users, profile } = this.props;\n      var profilelist = [];\n      users && users.map((user) => {\n        const userprofile = { id: user.id, profile: user};\n        profilelist.push(userprofile);\n      })\n      this.setState({\n        currentprofilelist: profilelist,\n      });\n    }\n/*\n    shouldComponentUpdate(nextProps, nextState) {\n      return nextProps.isFavourite != this.props.isFavourite;\n    }\n    */\n    \n    /*\n    updateFilters = (e) => {\n      e.preventDefault();\n     if (e.target.className === \"unselected-button\") {\n      const helper = this.state.filters;\n      helper.push(e.target.id);\n      this.setState({ filters : helper });\n      e.target.className = \"selected-button\";\n     }\n      else {\n        const newfilters = this.state.filters.filter(tag => tag !== e.target.id);\n        this.setState({ filters : newfilters });\n        e.target.className = \"unselected-button\";\n      }\n    }\n    */\n\n    clickSignUp = (e) => {\n      e.preventDefault();\n      this.setState({ signup: true });\n    }\n\n    clickLogIn = (e) => {\n      e.preventDefault();\n      this.setState({ signup : false });\n    }\n \n/*\n    renderCards(index, users) {\n      let card = users[index];\n      let cardid = card.id;\n\n      if(this.state.filters.length === 0 && this.state.tasks.length === 0) {\n        return (\n          <Card info={card} id={cardid}/>\n        );\n      }\n      else if (this.state.filters.length !== 0 && this.state.tasks.length === 0) {\n        if (this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t))) {\n          return (\n            <Card info={card} id={cardid}/>\n          )\n        }\n      }\n      else if (this.state.filters.length !== 0 && this.state.tasks.length === 0) {\n        if (this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t))) {\n          return (\n            <Card info={card} id={cardid}/>\n          )\n        }\n      }\n      else if (this.state.filters.length === 0 && this.state.tasks.length !== 0) {\n        if (this.state.tasks.every(t => card.tasks_tags && card.tasks_tags.includes(t))) {\n          return (\n            <Card info={card} id={cardid}/>\n          )\n        }\n      }\n      else if (this.state.filters.length !== 0 && this.state.tasks.length !== 0) {\n        if (this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t)) && this.state.tasks.every(t => card.tasks_tags && card.tasks_tags.includes(t))) {\n        return (\n          <Card info={card} id={cardid}/>\n        );\n        }\n      } else {\n        return '';\n      }\n    }\n    */\n\n   renderCards(index, users) {\n    let card = users[index];\n    let cardid = card.id;\n    console.log(card.image);\n\n    if (cardid !== \"hAOhg4jmoHVsjQ0nRva0l4ElBzk2\" && this.state.filters.every(t => card.areas_of_interest && card.areas_of_interest.includes(t)) && this.state.tasks.every(t => card.tasks_tags && card.tasks_tags.includes(t)) && this.state.personalities.every(t => card.personalities && card.personalities.includes(t))) {\n      return (\n        <Card info={card} id={cardid}/>\n      );\n    }\n     else {\n      return '';\n    }\n  }\n    \n  \n\n    handleShow = (e) => {\n      e.preventDefault();\n      const { auth } = this.props;\n      if (!auth.uid) {\n        this.setState({ routeguarding: true });\n      } else this.setState({ show: true });\n    }\n  \n    handleClose = () => {\n      this.setState({ show: false });\n    }\n\n    handleCloseRedirect = () => {\n      this.setState({ routeguarding: false });\n    }\n\n    handleSubmit = (e) => {\n      e.preventDefault();\n      this.props.submitTicket(this.state);\n      this.setState({\n        show: false\n      })\n    } \n\n    handleChange = (e) => {\n      e.stopPropagation();\n      this.setState({\n        [e.target.id]: e.target.value\n      })\n    }\n\n    updateReduxTasks = (e) => {\n      e.preventDefault();\n    \n     if (e.target.className === \"unselected-button\") {\n      const helper = [...this.state.reduxtasks, e.target.id];\n      this.setState({ reduxtasks : helper });\n      e.target.className = \"selected-button\";\n     }\n      else {\n        const newfilters = this.state.reduxtasks.filter(tag => tag !== e.target.id);\n        this.setState({ reduxtasks : newfilters });\n        e.target.className = \"unselected-button\";\n      }\n    }\n\n\n    onlyFilters = async (e) => {\n      if (e.target.className === \"unselected-button\") {\n       const helper = [...this.state.filters, e.target.id];\n        this.setState({ filters : helper });\n        e.target.className = \"selected-button\";\n        return helper;\n       }\n        else {\n          const newfilters = this.state.filters.filter(tag => tag !== e.target.id);\n          this.setState({ filters : newfilters });\n          e.target.className = \"unselected-button\";\n          return newfilters;\n        }\n    }\n\n\n   filtersUpdateList = (newfilters) => {\n    const { users } = this.props;\n    var newprofilelist = [];\n    var i = 0;\n    while (i < users.length) {\n      if (this.state.filters.every(t => users && users[i].areas_of_interest && users[i].areas_of_interest.includes(t)) && this.state.tasks.every(t => users[i].tasks_tags && users[i].tasks_tags.includes(t)) && this.state.personalities.every(t => users[i].personalities && users[i].personalities.includes(t))) {\n        newprofilelist.push({id: users[i].id, profile: users[i]});\n      }\n      i++;\n    }\n    this.setState({currentprofilelist: newprofilelist});\n  }\n\n    updateFilters = async (e) => {\n      e.preventDefault();\n      this.onlyFilters(e)\n      .then((newfilters) => {\n        this.filtersUpdateList(newfilters);\n      })\n    }\n\n    onlyTasks = async (e) => {\n      if (e.target.className === \"unselected-button\") {\n        const helper = [...this.state.tasks, e.target.id];\n        this.setState({ tasks : helper });\n        e.target.className = \"selected-button\";\n        return helper;\n       }\n        else {\n          const newfilters = this.state.tasks.filter(tag => tag !== e.target.id);\n          this.setState({ tasks : newfilters });\n          e.target.className = \"unselected-button\";\n          return newfilters;\n        }\n    }\n\n\n    tasksUpdateList = (newtasks) => {\n      const { users } = this.props;\n      var newprofilelist = [];\n      var i = 0;\n      while (i < users.length) {\n        if (newtasks.every(t => users[i].tasks_tags && users[i].tasks_tags.includes(t)) && this.state.filters.every(t => users[i].areas_of_interest && users[i].areas_of_interest.includes(t))) {\n          newprofilelist.push({id: users[i].id, profile: users[i]});\n        }\n        i++;\n      }\n      this.setState({currentprofilelist: newprofilelist});\n    }\n\n\n    updateTasks = async (e) => {\n      e.preventDefault();\n      return this.onlyTasks(e)\n      .then((newtasks) => {\n        this.filtersUpdateList(newtasks);\n      })\n    }\n\n\n    onlyPersonalities = async (e) => {\n      if (e.target.className === \"unselected-button\") {\n        const helper = [...this.state.personalities, e.target.id];\n        this.setState({ personalities : helper });\n        e.target.className = \"selected-button\";\n        return helper;\n       }\n        else {\n          const newfilters = this.state.personalities.filter(tag => tag !== e.target.id);\n          this.setState({ personalities : newfilters });\n          e.target.className = \"unselected-button\";\n          return newfilters;\n        }\n    }\n\n\n    updatePersonalities = async (e) => {\n      e.preventDefault();\n      return this.onlyPersonalities(e)\n      .then((newtasks) => {\n        this.filtersUpdateList(newtasks);\n      })\n    }\n\n\n\n\n    showMatching = (e) => {\n      e.preventDefault();\n      const { auth } = this.props;\n      if (!auth.uid) {\n        this.setState({ routeguarding: true})\n      } else {\n        this.setState({\n        showmatching: true\n      })  \n    }\n    }\n\n    handleMatching = (e) => {\n      e.preventDefault();\n      if (this.state.genderpreference !== \"\") {\n      this.props.startMatching(this.props.auth.uid, this.props.profile, this.props.profile.gender, this.state.genderpreference);\n      this.setState({\n        showmatching: false,\n        showmatchingwindow: true\n      })\n    }\n    }\n\n    closeMatching = () => {\n      this.setState({\n        showmatching: false\n      })\n    }\n\n    closeMatchingWindow = () => {\n      this.setState({\n        showmatchingwindow: false\n      })\n    }\n\n\n    showGroupMessaging = (e) => {\n      e.preventDefault();\n      if (!this.props.auth.uid) {\n        this.setState({ routeguarding: true })\n      } else this.setState({\n        showgroupmessaging: true\n      })\n    }\n\n    closeMessaging = () => {\n      this.setState({\n        showgroupmessaging: false\n      })\n    }\n  \n  \n    createMessage = (time) => {\n      let message = {};\n      message = { time: time, from : this.props.auth.uid, content: document.getElementById(\"message\").value };\n      return message;\n    }\n  \n\n    handleMessaging = (e) => {\n      e.preventDefault();\n      if (this.state.number !== 0 ) {\n      const date = new Date();\n      const time = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate() + \" \" + date.getHours() + \":\" + date.getMinutes();\n      const message = this.createMessage(time);\n      this.props.groupMessaging(this.state.currentprofilelist, this.state.number, message, this.props.profile);\n      }\n    }\n\n    showInterestFilter = (e) => {\n      e.preventDefault();\n      this.setState({\n        interestFilterVisibility: true\n      })\n    }\n\n    closeInterestFilter = () => {\n      this.setState({\n        interestFilterVisibility: false\n      })\n    }\n\n    showTaskFilter = (e) => {\n      e.preventDefault();\n      this.setState({\n        taskFilterVisibility: true\n      })\n    }\n\n    closeTaskFilter = () => {\n      this.setState({\n        taskFilterVisibility: false\n      })\n    }\n\n    showPersonalityFilter = (e) => {\n      e.preventDefault();\n      this.setState({\n        personalityFilterVisibility: true\n      })\n    }\n\n    closePersonalityFilter = () => {\n      this.setState({\n        personalityFilterVisibility: false\n      })\n    }\n\n    handleTryAgain = (e) => {\n      e.preventDefault();\n      this.setState({\n        showmatchingwindow: false,\n        showmatching: true\n      })\n    }\n\n    changeMatching = () => {\n      document.getElementById(\"matching-button\").className = \"hovered-buttons\";\n      this.setState({\n        changeMatchingButton: true,\n      })\n    }\n\n    unchangeMatching = () => {\n      document.getElementById(\"matching-button\").className = \"initial-buttons\";\n      this.setState({\n        changeMatchingButton: false\n      })\n    }\n\n    changeMessaging = () => {\n      document.getElementById(\"messaging-button\").className = \"hovered-buttons\";\n      this.setState({\n        changeMessagingButton: true,\n      })\n    }\n\n    unchangeMessaging = () => {\n      document.getElementById(\"messaging-button\").className = \"initial-buttons\";\n      this.setState({\n        changeMessagingButton: false\n      })\n    }\n\n    showSchedule = (e) => {\n      e.preventDefault();\n      this.setState({scheduleVisibility: true});\n    }\n \n    closeSchedule = () => {\n      \n      this.setState({scheduleVisibility: false})\n    }\n\n    renderSegment = (segment, date) => {\n      return <div className=\"slot\">{date.getDate()}</div>\n    }\n\n    renderSlots = (slot) => {\n      console.log(slot.date.getDate() + slot.hour);\n      return <div className=\"slot\">{slot.date} - {slot.hour}</div>;\n    }\n    \n    startSelecting = (e) => {\n      e.preventDefault();\n      this.setState({\n        selecting: true,\n        startTime: e.target.element,\n        selectedSlots: [e.target.element]\n      })\n    }\n\n    keepSelecting = (e) => {\n      e.preventDefault();\n      if (this.state.selecting === true) {\n      \n      const slots = [...this.state.selectedSlots, e.target.element];\n      this.setState({\n        selectedSlots: slots\n      })\n    }\n    }\n\n    finishSelecting = (e) => {\n      e.preventDefault();\n      \n    }\n\n\n    displaySelectedTimeSlots = (date) => {\n      var start = date[0].dataset.start;\n      var end = date[date.length - 1].dataset.end;\n      console.log(start);\n      console.log(end);\n      console.log(date);\n    return <span>{start} - {end}, {date[0].dataset.date}</span>\n    }\n\n    displayConfirmedTasks = (task) => {\n      var startTimeArray = task.slots[0][0].dataset.start.split(/:| /);\n      var rowStart = startTimeArray[0] * 2;\n      if (startTimeArray[1] === \"30\") {\n        rowStart += 1;\n      }\n      if (startTimeArray[2] === \"pm\") {\n        rowStart += 24;\n      }\n      rowStart += 2;\n\n      var endTimeArray = task.slots[0][task.slots[0].length - 1].dataset.start.split(/:| /);\n      var rowEnd = endTimeArray[0] * 2;\n      if (endTimeArray[1] === \"30\") {\n        rowEnd += 1;\n      }\n      if (endTimeArray[2] === \"pm\") {\n        rowEnd += 24;\n      }\n      rowEnd += 2;\n\n      var columnStart = task.slots[0].dataset.date;\n      var columnEnd = task.slots[task.slots.length - 1].dataset.date;\n\n    return <div style={{gridRowStart: rowStart, gridRowEnd: rowEnd, gridColumnStart: columnStart, gridColumnEnd: columnEnd}}>{task.content}</div>\n    }\n\n    selectTaskTags = (e) => {\n      e.preventDefault();\n      if (e.target.className === \"unselected-button\") {\n        e.target.className = \"selected-button\";\n        const newTaskTags = [...this.state.currentTaskTags, e.target.id];\n        this.setState({currentTaskTags: newTaskTags});\n      }\n      else {\n        const newTaskTags = this.state.currentTaskTags.filter(tag => tag !== e.target.id);\n        this.setState({currentTaskTags: newTaskTags});\n        e.target.className = \"unselected-button\";\n      }\n    }\n\n    confirmTask = (e) => {\n      e.preventDefault();\n      const task = {slots: this.state.currentTimeSlots, content: document.getElementById(\"task-description\"), tags: this.state.currentTaskTags};\n      const selectedSlots = [...this.state.selectedSlots, task];\n      this.setState({selectedSlots: selectedSlots});\n      document.getElementById(\"task-recording\").style.visibility = \"hidden\";\n    }\n\n      render() {\n\n        const { auth, users, profile, loading, sent, buddy, chatid, showmatchingwindow } = this.props;\n        var profilelist = [];\n\n        let founderprofile;\n        if (users) {\n          const founder = users.find(element => element.id === \"hAOhg4jmoHVsjQ0nRva0l4ElBzk2\");\n          founderprofile = <Card info={ founder } id=\"hAOhg4jmoHVsjQ0nRva0l4ElBzk2\"></Card>;\n        }\n\n  \n        const buttonStyle = {\n            height: \"50px\",\n            width: \"500px\",\n            margin: \"45px\",\n            backgroundColor: '#fd9535',\n            textAlign: 'center',\n            color: \"#fff\",\n            fontSize: \"16px\",\n            shape: \"circle\",\n            fontWeight: \"bold\",\n        }\n\n        let box;\n        if (loading === true) {\n            box = <div class=\"loader\"></div>\n        }\n        else {\n            if (this.props.buddy !== \"\") {\n                \n                box = <MatchingWindow chat={chatid} buddy={buddy} close={this.closeMatchingWindow}/>\n                \n            }\n            else {\n                box = \n                  <div style={{ position: \"absolute\", left: \"35%\", top: \"35%\", border: \"1px solid\", backgroundColor: \"white\", width: \"550px\"}}>\n                    <button style={{float: \"right\", backgroundColor: \"white\", color: \"black\", border: \"0\", padding: \"0\" }} onClick={this.closeMatchingWindow}>x</button>\n                    <span style={{marginTop: \"15px\"}}>Sorry we cannot help you find a study/work buddy currently 😖</span>\n                    <Button variant=\"success\" type=\"submit\" style={{float: \"right\"}} onClick={this.handleTryAgain}>Try again?</Button>\n                  </div>\n            }\n        }\n\n\n        const selection = Selection.create({\n          class: \"selection-area\",\n          mode: \"touch\",\n          singleClick: \"true\",\n          selectables: [\".slot\"],\n          boundaries: [\".schedule\"]\n        })\n        \n          .on(\"beforestart\", ({ selected, inst }) => {\n            console.log(selected);\n            for (const el of selected) {\n              el.classList.remove(\"selected\");\n              inst.removeFromSelection(el);\n            }\n      \n            \n            inst.clearSelection();\n          })\n          \n          .on(\"start\", ({ inst, selected, oe }) => {\n            // Remove class if the user isn't pressing the control key or ⌘ key\n            \n            console.log(selected);\n            for (const el of selected) {\n              el.classList.remove(\"selected\");\n              inst.removeFromSelection(el);\n            }\n      \n            \n      \n            inst.clearSelection();\n            \n\n            \n            console.log('start');\n            \n\n            /*\n            if (!oe.ctrlKey && !oe.metaKey) {\n             \n        \n              for (const el of selected) {\n                el.classList.remove(\"selected\");\n        \n                inst.removeFromSelection(el);\n              }\n        \n              \n        \n              inst.clearSelection();\n            }\n            */\n          })\n          .on(\"move\", ({ changed: { removed, added }, selected }) => {\n            // Add a custom class to the elements that where selected.\n        \n            for (const el of added) {\n              /*\n              if (el.hour === \"0:00\") {\n                el.classList.add(\"selected\");\n              }\n              */\n              \n              el.classList.add(\"selected\");\n              selected.push(el);\n            }\n        \n            // Remove the class from elements that where removed\n        \n            // since the last selection\n        \n            for (const el of removed) {\n              el.classList.remove(\"selected\");\n              selected.indexOf(el);\n              selected.splice(el, 1);\n            }\n          })\n          .on(\"stop\", ({ inst, selected }) => {\n            console.log('stop', selection.getSelection());\n            //const selected = selection.getSelection();\n            var current = new Array();\n            /*\n            var temp = new Array();  \n            temp.push(selected[0]);\n            current.push(temp);\n            console.log(current);\n            */\n            \n        \n            if (selected.length > 1) {\n              for (var i  = 0; i < selected.length; i++) {\n                var checked = false;\n                for (var j = 0; j < current.length; j++) {\n                  if (selected[i].dataset.date === current[j][0].dataset.date) {\n                    current[j].push(selected[i]);\n                    checked = true;\n                  }\n                }\n                if (checked === false) {\n                  var temp = new Array();\n                  temp.push(selected[i]);\n                  current.push(temp);\n                }\n              }\n        \n              \n              current.sort(function(left, right) {\n                return left[0].dataset.date - right[0].dataset.date;\n              })\n\n              for (var i = 0; i < current.length; i++) {\n                current[i].sort(function(left, right) {\n                  return left.dataset.start - right.dataset.start;\n                });\n        \n              }\n            }\n        \n            //currentTimeSlots = current;\n            //console.log(currentTimeSlots);\n            this.setState({currentTimeSlots: current});\n            document.getElementById(\"task-recording\").style.visibility = \"visible\";\n            //selected = [];\n            //inst.clearSelection();\n\n            \n            // Remember selection in case the user wants to add smth in the next one\n        \n            //inst.keepSelection();\n          })\n        \n\n\n\n\n        return (\n\n          <div>  \n\n        <Helmet>\n          <title>Buddies | Salon</title>\n          <meta name=\"description\" content=\"Find your study/work buddies\"></meta>\n        </Helmet>\n\n          {auth.uid || (auth.isEmpty && auth.isLoaded) ? \n          <div>\n\n\n            {<NavBar />}\n      \n\n            \n            {auth.uid ?\n           <div className=\"chatbox-header\">\n             <ChatBox roomid={auth.uid} />\n           </div>\n           : null}\n           \n\n  \n            <Container className=\"background\" fluid style={{ zIndex: \"-1\", alignItems:\"center\"}}>\n\n\n            <div className=\"form-inline\" style={{ position: \"absolute\", top: \"15%\"}}>\n            <Button className=\"update-button\" onClick={this.handleShow} style={{ fontSize: \"large\", fontFamily: \"Comic Sans MS, cursive, sans-serif\" }}>Update your tasks here! 🤗</Button>\n           \n\n            \n            <div >\n            {this.state.changeMatchingButton ? <span className=\"matching-button\">Randomly find a study/work buddy instantly</span> : null}\n            <Button id=\"matching-button\" className=\"initial-buttons\" onMouseOver={this.changeMatching} onMouseLeave={this.unchangeMatching} onClick={this.showMatching} style={{ fontSize: \"large\", fontFamily: \"Comic Sans MS, cursive, sans-serif\" }}>\n            🎲</Button>\n            </div>\n\n            <Button onClick={this.showSchedule}>Schedule</Button>\n           \n            </div>\n\n\n            <Modal show={this.state.scheduleVisibility} onHide={this.closeSchedule}>\n                <Modal.Header closeButton></Modal.Header>\n                <Modal.Body>\n                  <div className=\"schedule\">\n                 \n                    {this.state.todaySchedule && this.state.todaySchedule.map((row) => {\n                      return (\n                        row.map((slot) => {\n                          return <div class=\"slot\" data-date={slot.date.getDate()} data-start={slot.start} data-end={slot.end}>{slot.date.getDate()}: {slot.start}-{slot.end}</div>;\n                        })\n                      )\n                    })}\n\n                    {this.state.selectedSlots && this.state.selectedSlots.map((task) => {\n                      return this.displayConfirmedTasks(task);\n                    })}\n                  </div>\n\n                  <div id=\"task-recording\" style={{display: \"flex\", visibility: \"hidden\"}}>\n                    <div style={{display: \"inline\"}}>\n                    {this.state.currentTimeSlots && this.state.currentTimeSlots.map((date) => {\n                      return this.displaySelectedTimeSlots(date);\n                    })}\n                    </div>\n\n                    <form onSubmit={this.confirmTask}>\n                    <span>Descrie your tasks</span>\n                    <textarea id=\"task-description\" required></textarea>\n\n                    <span>Select a few tags:</span>\n\n                    <div className=\"form-inline\">\n                    {taskfilters.map(filter => {\n                      return (\n                        <div className=\"unselected-button\" id={filter} onClick={this.selectTaskTags}>\n                          {filter}\n                        </div>\n                      )\n                    })}\n                    </div>\n\n                    <Button type=\"submit\" variant=\"success\">Confirm</Button>\n                  </form>\n                  </div>\n                </Modal.Body>\n              </Modal>\n\n\n\n            <Modal show={this.state.showgroupmessaging} onHide={this.closeMessaging}>\n                <Modal.Header closeButton></Modal.Header>\n                <Modal.Body>\n                  <form onSubmit={this.handleMessaging}>\n                    <span>Select a few tags on the page and send your message to up to 3 random users that have the tags in their profiles</span>\n                    <textarea id=\"message\" placeholder=\"Hi there...\" required></textarea>\n\n\n                      <div>\n                    \n                            <label>1</label><input type=\"radio\" id=\"number\" value={1} onChange={this.handleChange} checked={this.state.number === \"1\"} />   \n                      \n                            <label>2</label><input type=\"radio\" id=\"number\" value={2} onChange={this.handleChange} checked={this.state.number === \"2\"} />\n                    \n                            <label>3</label><input type=\"radio\" id=\"number\" value={3} onChange={this.handleChange} checked={this.state.number === \"3\"} />\n                        \n                      </div>\n                        \n\n                    <Button variant=\"success\" type=\"submit\">Send</Button>\n                  </form>\n                  { loading ?  <div class=\"loader\"></div> : null}\n                  { sent === 1 ? <span>Message sent!</span> : null }\n                  { sent === 2 ? <span>Sorry there are not enough users that satisfy the criteria, but the message has been sent to all the users if there are any! 😋</span> : null }\n                </Modal.Body>\n              </Modal>\n\n\n\n\n            <Modal show={this.state.showmatching} onHide={this.closeMatching}>\n              <Modal.Header closeButton></Modal.Header>\n              <Modal.Body>\n                <form onSubmit={this.handleMatching}>\n                  Match me with:\n                 \n                         <div>\n                            <label>Male only</label><input type=\"radio\" id=\"genderpreference\" value=\"Male\" onChange={this.handleChange} checked={this.state.genderpreference === \"Male\"}></input>   \n                            </div>\n                       \n                         <div>\n                            <label>Female only</label><input type=\"radio\" id=\"genderpreference\" value=\"Female\" onChange={this.handleChange} checked={this.state.genderpreference === \"Female\"} ></input>\n                            </div> \n\n                            <div>\n                            <label>Other only</label><input type=\"radio\" id=\"genderpreference\" value=\"Other\" onChange={this.handleChange} checked={this.state.genderpreference === \"Other\"} ></input>\n                            </div>\n\n                         <div>\n                            <label>I don't care 😢</label><input type=\"radio\" id=\"genderpreference\" value=\"None\" onChange={this.handleChange} checked={this.state.genderpreference === \"None\"} ></input>\n                            </div>\n                \n\n                  <Button variant=\"success\" type=\"submit\">Start matching</Button>\n                </form>\n              </Modal.Body>\n            </Modal>\n\n\n            { this.state.showmatchingwindow ? box : null }\n\n \n            \n\n\n            \n\n              \n              <Modal show={this.state.show} onHide={this.handleClose}>\n                <Modal.Header closeButton></Modal.Header>\n                <Modal.Body>\n                  <form onSubmit={this.handleSubmit}>\n                    <span>Describe your tasks today!</span>\n                    <textarea id=\"description\" onChange={this.handleChange} value={this.state.description} required></textarea>\n\n                    <span>Select a few tags:</span>\n\n                    <div className=\"form-inline\">\n                    {taskfilters.map(filter => {\n                      return (\n                        <div className={this.state.reduxtasks && this.state.reduxtasks.includes(filter) ? \"selected-button\" : \"unselected-button\" } id={filter} onClick={this.updateReduxTasks}>\n                          {filter}\n                        </div>\n                      )\n                    })}\n                    </div>\n\n                    <Button type=\"submit\" variant=\"success\">Submit</Button>\n                  </form>\n                </Modal.Body>\n              </Modal>\n\n              \n              <Modal show={this.state.routeguarding} onHide={this.handleCloseRedirect}>\n              <Modal.Header closeButton></Modal.Header>\n              <Modal.Body>\n              Sign up to create a profile so that other users can know more about you!😊\n              </Modal.Body>\n              </Modal>\n\n          <Container fluid style={{ position: \"absolute\", top: \"25%\", /*marginLeft:\"70px\", marginBottom: \"20px\",*/left: \"4%\", display: \"flex\", alignItems: \"center\",  zIndex: \"-1\"}}>\n\n          <span style={{ fontFamily: \"Lucida Console, Monaco, monospace\", fontSize: \"large\"}}>Filter by: </span>\n          \n          <Button variant=\"success\" style={{ fontFamily: \"Lucida Console, Monaco, monospace\", fontSize: \"large\", marginRight: \"10px\" }} onClick={this.showInterestFilter}>💛 Interests</Button>\n            <Modal id=\"interestfilter\" show={this.state.interestFilterVisibility} onHide={this.closeInterestFilter}>\n            <div className=\"form-inline\" style={{ margin: \"5px \"}}id=\"filters\">\n              {filters.map(filter => {\n                return (\n                  <div className={this.state.filters && this.state.filters.includes(filter) ? \"selected-button\" : \"unselected-button\"} id={filter} onClick={this.updateFilters}>\n                    {filter}\n                    </div>\n                );\n              })}\n            </div>\n            </Modal>\n\n            <Button variant=\"success\" style={{ fontFamily: \"Lucida Console, Monaco, monospace\", fontSize: \"large\", marginRight: \"10px\" }} onClick={this.showPersonalityFilter}>👻 Values</Button>\n            <Modal id=\"interestfilter\" show={this.state.personalityFilterVisibility} onHide={this.closePersonalityFilter}>\n            <div className=\"form-inline\" style={{ margin: \"5px \"}}id=\"filters\">\n              {personalities.map(filter => {\n                return (\n                  <div className={this.state.personalities && this.state.personalities.includes(filter) ? \"selected-button\" : \"unselected-button\"} id={filter} onClick={this.updatePersonalities}>\n                    {filter}\n                    </div>\n                );\n              })}\n            </div>\n            </Modal>\n\n            <Button variant=\"success\" style={{ fontFamily: \"Lucida Console, Monaco, monospace\", fontSize: \"large\", marginRight: \"10px\" }} onClick={this.showTaskFilter}>🏷 Tasks</Button>\n            <Modal id=\"interestfilter\" show={this.state.taskFilterVisibility} onHide={this.closeTaskFilter}>\n            <div className=\"form-inline\" style={{ margin: \"5px \"}}id=\"filters\">\n              {taskfilters.map(filter => {\n                return (\n                  <div className={this.state.tasks && this.state.tasks.includes(filter) ? \"selected-button\" : \"unselected-button\"} id={filter} onClick={this.updateTasks}>\n                    {filter}\n                    </div>\n                );\n              })}\n            </div>\n            </Modal>\n            \n\n            \n            </Container>\n          \n  \n\n\n \n\n          </Container>\n      \n       \n      \n        </div>\n        : <div className=\"loader\"></div>}\n        </div>\n        );\n      }\n    }\n\nconst mapStateToProps = (state) => {\n  console.log('waiting cponent', state.firestore)\n  return {\n    users: state.firestore.ordered.users,\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n    loading: state.auth.loading,\n    sent: state.auth.sent,\n    buddy: state.auth.buddy,\n    chatid: state.auth.chatid,\n    matching: state.auth.matching,\n    showmatchingwindow: state.auth.showmatchingwindow\n  }\n}\n    \nexport default compose(\nconnect(mapStateToProps, {submitTicket, startMatching, groupMessaging}),\nfirestoreConnect([\n{ collection: 'users' }\n])\n)(WaitingRoom);\n\n/*\n            <div>\n            {this.state.changeMessagingButton ? <span className=\"messaging-button\">Send a message to random people</span> : null}\n            <Button id=\"messaging-button\" className=\"initial-buttons\" onMouseOver={this.changeMessaging} onMouseLeave={this.unchangeMessaging} onClick={this.showGroupMessaging} style={{ fontSize: \"large\", fontFamily: \"Comic Sans MS, cursive, sans-serif\" }}>💌</Button>\n            </div>\n            */\n\n\n/*\n          <div style={{ position: \"absolute\", top: \"30%\", zIndex: \"-1\" }}>\n            <div id=\"cards\">\n            {founderprofile}\n              { users && users.map((card, index, users) => {\n                return this.renderCards(index, users, profilelist);\n              })}\n            </div>\n            </div>\n*/"]},"metadata":{},"sourceType":"module"}