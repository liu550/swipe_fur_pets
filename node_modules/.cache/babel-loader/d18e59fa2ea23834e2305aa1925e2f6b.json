{"ast":null,"code":"var _jsxFileName = \"/Users/liu550/Desktop/salon_project/src/components/design/streamingcard.js\";\nimport React, { Component, useState } from 'react';\nimport '../../styles/card.css';\nimport { Button, Modal, ModalFooter } from 'react-bootstrap';\nimport Card from './card.js';\nimport firebase from '../../config/firebaseconfig';\nimport '../component.css';\nimport HostCard from './hostcard.js';\nimport ditto from '../ditto.png';\nimport { connect } from 'react-redux';\nimport { removeStreaming } from '../../redux/actions';\nimport { joinSession } from '../../redux/actions';\nimport ProfileCard from '../profilecard.js';\n/*\nconst StreamingCard = (props) => {\n\n    const [show, setShow] = useState(false);\n    const handleShow = () => setShow(true);\n    const handleClose = () => setShow(false);\n\n\n\n    const user = firebase.firestore().collection(\"users\").doc(props.info.host);\n\n  return (\n    <div className=\"card-container\">\n      <div className='profile-content'>\n\n      <div>\n          <div>\n            <img src={props.user.image}></img>\n            <Button variant=\"primary\" onClick={handleShow}>Click to learn more about me</Button>\n            <Modal show={show} onClick={handleClose}>\n                <Card info={props.info}></Card>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n          </div>\n          <div class=\"name\">\n            Host: {props.user.first_name} {props.user.last_name}\n          </div>\n        </div>\n\n    <div>\n        <div>\n          {props.info.meeting_link}\n        </div>\n        <div>\n            {props.info.room_description}\n        </div>\n    </div>\n\n\n        </div>\n      </div>\n\n  );\n}\n\n\nexport default StreamingCard;\n*/\n\nclass StreamingCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleShow = e => {\n      e.preventDefault();\n      this.setState({\n        show: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleRemove = e => {\n      e.preventDefault();\n      this.props.removeStreaming();\n    };\n\n    this.handleJoin = async e => {\n      e.preventDefault();\n      const date = new Date();\n      const time = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate() + \" \" + date.getHours() + \":\" + date.getMinutes();\n      this.props.joinSession(this.props.info.host, time);\n      window.open(this.props.info.meeting_link);\n    };\n\n    this.handleClick = () => {\n      console.log(\"called\"); //document.getElementById(\"link\").click();\n    };\n\n    this.renderParticipants = e => {\n      e.preventDefault();\n      this.setState({\n        showParticipants: true\n      });\n    };\n\n    this.hideParticipants = () => {\n      this.setState({\n        showParticipants: false\n      });\n    };\n\n    this.renderProfile = id => {\n      this.setState({\n        showProfile: true,\n        whoseProfile: id\n      });\n    };\n\n    this.hideProfile = () => {\n      this.setState({\n        showProfile: false\n      });\n    };\n\n    this.state = {\n      user: \"\",\n      show: false,\n      showProfile: false,\n      showParticipants: false,\n      whoseProfile: false\n    };\n  }\n  /*\n    state = {\n      user: \"\",\n      show: false,\n      showProfile: false,\n      showParticipants: false,\n      whoseProfile: false\n    }\n    */\n\n\n  componentDidMount() {\n    firebase.firestore().collection(\"users\").doc(this.props.info.host).get().then(doc => {\n      this.setState({\n        user: doc.data()\n      });\n    });\n  }\n\n  render() {\n    const user = this.state.user;\n    const {\n      auth\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: user.image ? user.image : ditto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      onClick: this.handleShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }, \"\\uD83D\\uDC40 More about me\"), \" \", auth.uid === this.props.info.host ? /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      onClick: this.handleRemove,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 130\n      }\n    }, \"Remove\") : null, /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(HostCard, {\n      info: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"info-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"\\uD83D\\uDE0E Host: \", user.first_name, \" \", user.last_name), user.gender === \"Male\" ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"skyblue\",\n        color: \"white\",\n        width: \"20px\",\n        textAlign: \"center\",\n        borderRadius: \"10%\",\n        marginLeft: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 39\n      }\n    }, \"\\u2642\") : null, user.gender === \"Female\" ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"pink\",\n        color: \"white\",\n        width: \"20px\",\n        textAlign: \"center\",\n        borderRadius: \"10%\",\n        marginLeft: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 39\n      }\n    }, \"\\u2640\") : null, user.gender === \"Other\" ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundImage: \"linear-gradient(to right, skyblue, pink)\",\n        color: \"white\",\n        width: \"20px\",\n        textAlign: \"center\",\n        borderRadius: \"10%\",\n        marginLeft: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 38\n      }\n    }, \"\\u26A5\") : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info\",\n      style: {\n        marginLeft: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, \"\\uD83D\\uDCBB Occupation: \", /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        marginLeft: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 26\n      }\n    }, user.role, \" \", user.institution && user.role ? \"at\" : null, \" \", user.institution))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, \"\\u2714\\uFE0F Streaming Link: \", /*#__PURE__*/React.createElement(\"a\", {\n      id: \"link\",\n      style: {\n        marginLeft: \"5px\"\n      },\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: this.props.info.meeting_link,\n      onClick: this.handleJoin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 30\n      }\n    }, this.props.info.meeting_link)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, \"\\uD83C\\uDFA4 Room description: \", /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        marginLeft: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 32\n      }\n    }, this.props.info.room_description)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, this.props.info.tasks_tags && this.props.info.tasks_tags.map(p => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"unselected-button\",\n        style: {\n          fontSize: \"small\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }\n      }, p);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      onClick: this.renderParticipants,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }\n    }, this.props.info.participants.length, \" people have joined the room\")), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.showParticipants,\n      onHide: this.hideParticipants,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }\n    }, this.state.showProfile ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ProfileCard, {\n      id: this.state.whoseProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 60\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        overflowY: \"scroll\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, this.props.info.participants && this.props.info.participants.map(participant => {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        className: \"chatbox-section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-inline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: participant.image !== \"\" ? participant.image : ditto,\n        onMouseOver: () => this.renderProfile(participant.id),\n        onMouseOut: this.hideProfile,\n        style: {\n          width: \"40px\",\n          height: \"40px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: \"black\",\n          fontSize: \"small\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 27\n        }\n      }, participant.name, \" joined the room at \", participant.time)));\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.firebase.auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeStreaming,\n  joinSession\n})(StreamingCard);","map":{"version":3,"sources":["/Users/liu550/Desktop/salon_project/src/components/design/streamingcard.js"],"names":["React","Component","useState","Button","Modal","ModalFooter","Card","firebase","HostCard","ditto","connect","removeStreaming","joinSession","ProfileCard","StreamingCard","constructor","props","handleShow","e","preventDefault","setState","show","handleClose","handleRemove","handleJoin","date","Date","time","getFullYear","getMonth","getDate","getHours","getMinutes","info","host","window","open","meeting_link","handleClick","console","log","renderParticipants","showParticipants","hideParticipants","renderProfile","id","showProfile","whoseProfile","hideProfile","state","user","componentDidMount","firestore","collection","doc","get","then","data","render","auth","image","uid","first_name","last_name","gender","backgroundColor","color","width","textAlign","borderRadius","marginLeft","backgroundImage","role","institution","room_description","tasks_tags","map","p","fontSize","participants","length","overflowY","participant","height","name","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport '../../styles/card.css';\nimport { Button, Modal, ModalFooter } from 'react-bootstrap';\nimport Card from './card.js';\n\nimport firebase from '../../config/firebaseconfig';\nimport '../component.css';\nimport HostCard from './hostcard.js';\nimport ditto from '../ditto.png';\n\nimport { connect } from 'react-redux';\nimport { removeStreaming } from '../../redux/actions';\nimport { joinSession } from '../../redux/actions';\nimport ProfileCard from '../profilecard.js';\n\n/*\nconst StreamingCard = (props) => {\n\n    const [show, setShow] = useState(false);\n    const handleShow = () => setShow(true);\n    const handleClose = () => setShow(false);\n\n\n\n    const user = firebase.firestore().collection(\"users\").doc(props.info.host);\n\n  return (\n    <div className=\"card-container\">\n      <div className='profile-content'>\n\n      <div>\n          <div>\n            <img src={props.user.image}></img>\n            <Button variant=\"primary\" onClick={handleShow}>Click to learn more about me</Button>\n            <Modal show={show} onClick={handleClose}>\n                <Card info={props.info}></Card>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n          </div>\n          <div class=\"name\">\n            Host: {props.user.first_name} {props.user.last_name}\n          </div>\n        </div>\n\n    <div>\n        <div>\n          {props.info.meeting_link}\n        </div>\n        <div>\n            {props.info.room_description}\n        </div>\n    </div>\n\n\n        </div>\n      </div>\n\n  );\n}\n\n\nexport default StreamingCard;\n*/\n\n\nclass StreamingCard extends Component {\n  \n  constructor(props){\n    super(props);\n    this.state = {\n      user: \"\",\n      show: false,\n      showProfile: false,\n      showParticipants: false,\n      whoseProfile: false\n    }\n  }\n  \n/*\n  state = {\n    user: \"\",\n    show: false,\n    showProfile: false,\n    showParticipants: false,\n    whoseProfile: false\n  }\n  */\n\n  componentDidMount() {\n    firebase.firestore().collection(\"users\").doc(this.props.info.host)\n    .get()\n    .then((doc) => {\n      this.setState({\n        user: doc.data()\n      })\n    })\n  }\n\n  handleShow = (e) => {\n    e.preventDefault();\n    this.setState({\n      show: true\n    })\n  }\n\n  handleClose = () => {\n    this.setState({\n      show: false\n    })\n  }\n\n  handleRemove = (e) => {\n    e.preventDefault();\n    this.props.removeStreaming();\n  }\n\n  handleJoin = async (e) => {\n    e.preventDefault();\n   \n      const date = new Date();\n      const time = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate() + \" \" + date.getHours() + \":\" + date.getMinutes();\n      this.props.joinSession(this.props.info.host, time);\n    \n    window.open(this.props.info.meeting_link);\n  }\n\n  handleClick = () => {\n    console.log(\"called\");\n    //document.getElementById(\"link\").click();\n  }\n\n  renderParticipants = (e) => {\n    e.preventDefault();\n    this.setState({\n      showParticipants: true\n    })\n  }\n\n  hideParticipants = () => {\n    this.setState({\n      showParticipants: false\n    })\n  }\n\n\n  renderProfile = (id) => {\n      this.setState({\n          showProfile: true,\n          whoseProfile: id\n      })\n  }\n\n  hideProfile = () => {\n      this.setState({\n          showProfile: false\n      })\n  }\n  \n  render() {\n\n    const user = this.state.user;\n    const {auth} = this.props;\n\n    return (\n      <div className=\"card-container\">\n        <div className='profile-content'>\n\n  \n        \n            <div>\n              <img src={user.image ? user.image : ditto}></img>\n              <Button variant=\"success\" onClick={this.handleShow}>👀 More about me</Button> {auth.uid === this.props.info.host ? <Button variant=\"danger\" onClick={this.handleRemove}>Remove</Button> : null}\n              <Modal show={this.state.show} onHide={this.handleClose}>\n                  <HostCard info={user}></HostCard>\n                  </Modal>\n\n            </div>\n\n            <div className=\"form-inline\">\n            <div class=\"info-name\">\n            😎 Host: {user.first_name} {user.last_name}\n            </div>\n\n            {user.gender === \"Male\" ? <div style={{ backgroundColor: \"skyblue\", color: \"white\", width: \"20px\", textAlign: \"center\", borderRadius: \"10%\", marginLeft: \"5px\" }}>♂</div> : null}\n          {user.gender === \"Female\" ? <div style={{ backgroundColor: \"pink\", color: \"white\", width: \"20px\", textAlign: \"center\", borderRadius: \"10%\", marginLeft: \"5px\" }}>♀</div> : null}\n          {user.gender === \"Other\" ? <div style={{ backgroundImage: \"linear-gradient(to right, skyblue, pink)\", color: \"white\", width: \"20px\", textAlign: \"center\", borderRadius: \"10%\", marginLeft: \"5px\" }}>⚥</div> : null}\n\n          <div className=\"info\" style={{ marginLeft: \"30px\" }}>\n          💻 Occupation: <li style={{ marginLeft: \"5px\" }}>{user.role} {user.institution && user.role ? \"at\" : null} {user.institution}</li>\n          </div>\n          </div>\n\n\n          <div className=\"info\">\n          ✔️ Streaming Link: <a id=\"link\" style={{ marginLeft: \"5px\" }} target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.info.meeting_link} onClick={this.handleJoin}>{this.props.info.meeting_link}</a>\n          </div>\n          <div className=\"info\">\n          🎤 Room description: <li style={{ marginLeft: \"5px\" }}>{this.props.info.room_description}</li>\n          </div>\n\n          <div className=\"info\">\n        <div className=\"form-inline\">\n          {this.props.info.tasks_tags && this.props.info.tasks_tags.map((p) => {\n            return(\n              <div className=\"unselected-button\" style={{ fontSize: \"small\" }}>\n                {p}\n              </div>\n            );\n          })}\n        </div>\n        </div>\n\n        <div>\n        <Button variant=\"success\" onClick={this.renderParticipants}>{this.props.info.participants.length} people have joined the room</Button>\n        </div>\n\n        <Modal show={this.state.showParticipants} onHide={this.hideParticipants}>\n          <Modal.Header closeButton>\n          {this.state.showProfile ? <div className=\"arrow\"><ProfileCard id={this.state.whoseProfile}></ProfileCard></div> : null}\n            <div style={{overflowY: \"scroll\"}}>\n              {this.props.info.participants && this.props.info.participants.map((participant) => {\n                return (\n                  <button className=\"chatbox-section\">\n                       <div className=\"form-inline\">\n                          <img src={participant.image !== \"\" ? participant.image : ditto}  onMouseOver={() => this.renderProfile(participant.id)} onMouseOut={this.hideProfile} style={{ width: \"40px\", height: \"40px\" }}></img>\n                          <span style={{ color: \"black\", fontSize: \"small\" }}>{participant.name} joined the room at {participant.time}</span>\n                        </div>\n                  </button>\n                );\n              })}\n            </div>\n          </Modal.Header> \n        </Modal>\n\n\n    \n  \n          </div>\n        </div>\n  \n    );\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth\n  }\n}\n\nexport default \n  connect(mapStateToProps, {removeStreaming, joinSession})\n(StreamingCard);\n"]},"metadata":{},"sourceType":"module"}